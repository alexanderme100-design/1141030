<!doctype html>
<html lang="zh-TW">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>鷺江國小交通安全網</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Microsoft JhengHei', '微軟正黑體', sans-serif;
            background: linear-gradient(135deg, #E3F2FD 0%, #F3E5F5 100%);
            min-height: 100%;
            line-height: 1.6;
        }

        html {
            height: 100%;
        }

        /* 固定頂部導航 */
        .top-navigation {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 10px 0;
        }

        .quick-info-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            background: #F8F9FA;
            font-size: 14px;
            color: #666;
            border-bottom: 1px solid #E0E0E0;
        }

        .quick-info-bar > div:first-child {
            display: flex;
            gap: 20px;
        }

        .main-navigation {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 10px 20px;
            background: white;
        }

        .nav-btn {
            background: #E0E0E0;
            color: #666;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .nav-btn.active {
            background: #1976D2;
            color: white;
            box-shadow: 0 4px 15px rgba(25, 118, 210, 0.3);
        }

        .nav-btn.active:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(25, 118, 210, 0.4);
        }

        .container {
            max-width: 1000px;
            margin: 140px auto 0 auto;
            padding: 15px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-top: 5px solid #1976D2;
        }

        .main-title {
            font-size: 32px;
            color: #1976D2;
            margin: 0;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .school-info {
            font-size: 20px;
            color: #388E3C;
            margin: 15px 0;
            font-weight: 600;
        }

        .school-address {
            font-size: 18px;
            color: #666;
            margin: 10px 0;
        }

        .school-stats {
            font-size: 16px;
            color: #1976D2;
            margin: 15px 0;
            font-weight: 500;
            background: #E3F2FD;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            border-left: 4px solid #FF9800;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            font-size: 20px;
            color: #1976D2;
            margin-bottom: 18px;
            text-align: center;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .interactive-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-top: 5px solid #9C27B0;
        }

        .alert-box {
            background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);
            border: 3px solid #F44336;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }

        .alert-title {
            font-size: 22px;
            font-weight: bold;
            color: #C62828;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .alert-content {
            font-size: 16px;
            color: #B71C1C;
            line-height: 1.5;
        }

        .tip-item {
            background: linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%);
            padding: 25px;
            border-radius: 15px;
            border: 3px solid #4CAF50;
            transition: transform 0.3s ease;
            margin-bottom: 20px;
        }

        .tip-item:hover {
            transform: scale(1.02);
        }

        .tip-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .tip-emoji {
            font-size: 35px;
        }

        .tip-title {
            font-size: 18px;
            font-weight: bold;
            color: #2E7D32;
        }

        .tip-content {
            font-size: 16px;
            color: #1B5E20;
            line-height: 1.5;
        }

        /* 公車追蹤動畫 */
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 4px 8px rgba(76, 175, 80, 0.4);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            }
        }

        /* 響應式設計 */
        @media (max-width: 768px) {
            .top-navigation {
                padding: 8px 0;
            }
            
            .quick-info-bar {
                flex-direction: column;
                gap: 8px;
                text-align: center;
                font-size: 12px;
            }
            
            .quick-info-bar > div:first-child {
                gap: 15px;
            }
            
            .main-navigation {
                gap: 5px;
                padding: 0 5px;
            }
            
            .nav-btn {
                padding: 8px 12px !important;
                font-size: 12px !important;
                gap: 4px !important;
            }
            
            .container {
                margin-top: 160px !important;
                padding: 10px;
            }

            .content-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .main-title {
                font-size: 22px;
            }

            .school-info {
                font-size: 18px;
            }

            .school-address {
                font-size: 16px;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- 固定頂部導航 -->
  <div class="top-navigation"><!-- 快速資訊條 -->
   <div class="quick-info-bar">
    <div><span>📍 新北市蘆洲區民族路七號</span> <span>⏰ <span id="quickTime">14:30</span></span> <span>🚦 <span id="quickTraffic">🟢 順暢</span></span>
    </div>
    <div><span>👥 學生：2,459人 | 👮‍♂️ 志工：88人</span>
    </div>
   </div><!-- 主導航選單 -->
   <div class="main-navigation"><button class="nav-btn active" data-page="overview" onclick="showPage('overview')"> <span>🏫</span> 學校概況 </button> <button class="nav-btn" data-page="traffic" onclick="showPage('traffic')"> <span>🚦</span> 交通狀況 </button> <button class="nav-btn" data-page="safety" onclick="showPage('safety')"> <span>🛡️</span> 安全指引 </button> <button class="nav-btn" data-page="education" onclick="showPage('education')"> <span>📚</span> 教育課程 </button> <button class="nav-btn" data-page="community" onclick="showPage('community')"> <span>👥</span> 社區服務 </button> <button class="nav-btn" data-page="resources" onclick="showPage('resources')"> <span>📱</span> 數位資源 </button>
   </div>
  </div>
  <main class="container"><!-- 學校概況頁面 (預設顯示) -->
   <div id="overview-page" class="content-page" style="display: block;">
    <header class="header">
     <h1 class="main-title" id="mainTitle">🏫 鷺江國小交通安全網</h1>
     <div class="school-info" id="schoolName">
      新北市蘆洲區鷺江國小
     </div>
     <div class="school-website" style="font-size: 16px; color: #1976D2; margin: 10px 0;">
      🌐 <a href="https://www.lcps.ntpc.edu.tw/" target="_blank" rel="noopener noreferrer" style="color: #1976D2; text-decoration: none; font-weight: 500;">https://www.lcps.ntpc.edu.tw/</a>
     </div>
     <div class="school-address" id="schoolAddress">
      📍 新北市蘆洲區民族路七號
     </div>
     <div class="school-location" style="font-size: 16px; color: #666; margin: 8px 0;">
      🗺️ 位於民族路、三民路、民權路交會處
     </div>
     <div class="school-stats">
      👥 學生人數：2,459人 | 👨‍🏫 教職員：237人 | 🏫 班級數：99班 | 🎒 幼兒園：8班
     </div>
    </header><!-- L型道路配置圖 -->
    <div class="interactive-section">
     <h2 class="card-title" id="trafficSituationTitle">🚦 校門口交通狀況 - L型道路配置</h2>
     <div style="background: #F5F5F5; border-radius: 15px; padding: 30px; margin: 20px 0; border: 2px dashed #FF9800;">
      <div style="position: relative; height: 400px; background: #F0F8FF; border-radius: 15px; padding: 25px; max-width: 800px; margin: 0 auto;"><!-- 民族路 (水平道路) -->
       <div style="position: absolute; top: 25px; left: 25px; right: 25px; height: 55px; background: linear-gradient(90deg, #666 0%, #888 50%, #666 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);"><span>🚌 民族路 (Minzu Road) - 多線公車經過 🚗</span>
       </div><!-- 民權路 (垂直道路) -->
       <div style="position: absolute; top: 80px; left: 25px; width: 55px; height: 220px; background: linear-gradient(180deg, #4CAF50 0%, #66BB6A 50%, #4CAF50 100%); border-radius: 12px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 13px; writing-mode: vertical-rl; text-orientation: mixed; box-shadow: 0 4px 10px rgba(0,0,0,0.2);"><span>🏍️ 民權路 🚶‍♂️</span>
       </div><!-- L型轉角連接 -->
       <div style="position: absolute; top: 25px; left: 25px; width: 55px; height: 55px; background: #777; border-radius: 12px 0 0 0; box-shadow: 0 4px 10px rgba(0,0,0,0.2);"></div><!-- 學校主建築 -->
       <div style="position: absolute; top: 140px; left: 200px; width: 200px; height: 110px; background: linear-gradient(135deg, #FF9800 0%, #FFB74D 100%); border-radius: 18px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-weight: bold; box-shadow: 0 6px 20px rgba(255, 152, 0, 0.4); border: 4px solid #E65100;">
        <div style="font-size: 28px; margin-bottom: 8px;">
         🏫
        </div>
        <div style="font-size: 18px;">
         鷺江國小
        </div>
        <div style="font-size: 14px;">
         主建築
        </div>
       </div><!-- 正門 -->
       <div style="position: absolute; top: 85px; left: 240px; width: 120px; height: 40px; background: #2196F3; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px; box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);">
        🚪 正門入口
       </div><!-- 側門 -->
       <div style="position: absolute; top: 180px; left: 90px; width: 40px; height: 90px; background: #9C27B0; border-radius: 10px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 11px; writing-mode: vertical-rl; box-shadow: 0 4px 12px rgba(156, 39, 176, 0.4);">
        🚪 側門
       </div><!-- 接送區標示 -->
       <div style="position: absolute; top: 280px; right: 30px; background: #E3F2FD; padding: 12px 16px; border-radius: 10px; border: 3px solid #2196F3; font-size: 13px; color: #1976D2; font-weight: bold; box-shadow: 0 3px 10px rgba(33, 150, 243, 0.2);">
        🚗 汽車接送區<br><small>(民族路側)</small>
       </div>
       <div style="position: absolute; top: 280px; left: 90px; background: #E8F5E8; padding: 12px 16px; border-radius: 10px; border: 3px solid #4CAF50; font-size: 13px; color: #2E7D32; font-weight: bold; box-shadow: 0 3px 10px rgba(76, 175, 80, 0.2);">
        🏍️ 機車接送區<br><small>(民權路側)</small>
       </div><!-- 說明文字 -->
       <div style="position: absolute; bottom: 15px; left: 15px; right: 15px; background: rgba(255,255,255,0.95); padding: 15px; border-radius: 10px; font-size: 13px; color: #555; text-align: center; border: 2px solid #E0E0E0; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><strong style="color: #1976D2;">🛣️ L型道路配置說明：</strong><br>
         民族路與民權路呈L型交會，正門面向民族路，側門通往民權路，<br>
         民族路設有公車站牌，多線公車經過，形成完善的人車分流系統
       </div>
      </div>
     </div>
    </div><!-- 安全指引 -->
    <div class="interactive-section">
     <h2 class="card-title" id="safetyGuideTitle">🛡️ 交通安全指引</h2>
     <div class="content-grid" style="margin-bottom: 0;"><!-- 左欄 -->
      <div class="card">
       <h3 style="color: #1976D2; text-align: center; margin-bottom: 20px;">🚗 車輛接送管理</h3>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          🏍️
         </div>
         <div class="tip-title">
          機車接送區分流
         </div>
        </div>
        <div class="tip-content">
         • 民權路左側設有機車接送區<br>
          • 請勿在民族路逗留太久<br>
          • 配合導護志工指揮
        </div>
       </div>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          🚗
         </div>
         <div class="tip-title">
          汽車接送區分流
         </div>
        </div>
        <div class="tip-content">
         • 民族路設有汽車接送區<br>
          • 遵守人車分流規劃<br>
          • 注意學生放學路隊動線
        </div>
       </div>
      </div><!-- 右欄 -->
      <div class="card">
       <h3 style="color: #4CAF50; text-align: center; margin-bottom: 20px;">👥 人力與教育管理</h3>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          🚶‍♂️
         </div>
         <div class="tip-title">
          步行通學推廣
         </div>
        </div>
        <div class="tip-content">
         • 學校積極鼓勵步行通學<br>
          • 靠右走，用走代替跑步<br>
          • 參與交通安全地圖製作
        </div>
       </div>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          👮‍♂️
         </div>
         <div class="tip-title">
          導護人力配置
         </div>
        </div>
        <div class="tip-content">
         • 導護志工88人協助維護安全<br>
          • 校長每日門口執勤導護<br>
          • 學生交通服務隊協助管制
        </div>
       </div>
      </div>
     </div>
    </div><!-- 互動測驗區 -->
    <div class="interactive-section">
     <h2 class="card-title">🎯 交通安全互動測驗</h2>
     <div class="alert-box" style="background: linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%); border-color: #4CAF50;">
      <div class="alert-title" style="color: #2E7D32;">
       🏆 測試你的交通安全知識！
      </div>
      <div class="alert-content" style="color: #1B5E20;">
       完成以下測驗，檢驗你對鷺江國小周邊交通安全的了解程度
      </div>
     </div><!-- 測驗題目 -->
     <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 25px; margin: 30px 0;"><!-- 測驗題目 1 -->
      <div class="card" id="quiz1" style="border-left-color: #2196F3;">
       <h3 style="font-size: 18px; color: #1976D2; margin-bottom: 20px; font-weight: bold; line-height: 1.4;">🚦 問題 1：鷺江國小正門位於哪條路上？</h3>
       <div style="display: grid; gap: 12px; margin-bottom: 20px;"><button class="quiz-option" onclick="checkAnswer(1, 'A', false)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">A. 民權路</button> <button class="quiz-option" onclick="checkAnswer(1, 'B', true)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">B. 民族路</button> <button class="quiz-option" onclick="checkAnswer(1, 'C', false)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">C. 中山路</button> <button class="quiz-option" onclick="checkAnswer(1, 'D', false)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">D. 中正路</button>
       </div>
       <div id="result1" style="min-height: 60px; padding: 15px; border-radius: 10px; font-weight: bold; text-align: center; margin-top: 15px;"></div>
      </div><!-- 測驗題目 2 -->
      <div class="card" id="quiz2" style="border-left-color: #4CAF50;">
       <h3 style="font-size: 18px; color: #1976D2; margin-bottom: 20px; font-weight: bold; line-height: 1.4;">👮‍♂️ 問題 2：鷺江國小有多少位導護志工？</h3>
       <div style="display: grid; gap: 12px; margin-bottom: 20px;"><button class="quiz-option" onclick="checkAnswer(2, 'A', false)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">A. 92位</button> <button class="quiz-option" onclick="checkAnswer(2, 'B', true)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">B. 88位</button> <button class="quiz-option" onclick="checkAnswer(2, 'C', false)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">C. 75位</button> <button class="quiz-option" onclick="checkAnswer(2, 'D', false)" style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">D. 100位</button>
       </div>
       <div id="result2" style="min-height: 60px; padding: 15px; border-radius: 10px; font-weight: bold; text-align: center; margin-top: 15px;"></div>
      </div>
     </div><!-- 測驗統計 -->
     <div id="quizSummary" style="display: none; background: white; border-radius: 20px; padding: 40px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 5px solid #4CAF50; margin: 30px 0;">
      <h3 style="color: #1976D2; text-align: center; margin-bottom: 20px;">🎉 測驗完成！</h3>
      <div style="display: flex; flex-direction: column; align-items: center; gap: 20px; margin: 30px 0;">
       <div style="width: 120px; height: 120px; border-radius: 50%; background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold; box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);"><span id="scoreText">0/2</span>
       </div>
       <div id="scoreMessage" style="font-size: 20px; color: #1976D2; font-weight: bold; max-width: 400px; line-height: 1.5;"></div>
      </div><button onclick="resetQuiz()" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%); color: white; border: none; border-radius: 25px; padding: 15px 30px; font-size: 18px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);">🔄 重新測驗</button>
     </div>
    </div>
   </div><!-- 教育課程頁面 -->
   <div id="education-page" class="content-page" style="display: none;">
    <div style="text-align: center; margin-bottom: 30px; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 5px solid #2196F3;">
     <h1 style="color: #2196F3; font-size: 28px; margin: 0;">📚 教育課程與學習</h1>
     <p style="color: #666; margin: 10px 0 0 0; font-size: 16px;">多元化交通安全教育課程與雙語學習</p>
    </div><!-- 校訂課程總體架構 -->
    <div class="interactive-section">
     <h2 class="card-title">📘 鷺江國小 114 學年度校訂課程總體架構</h2><!-- 學校與課程願景 -->
     <div class="card" style="border-left-color: #2196F3; margin-bottom: 25px;">
      <h3 style="color: #2196F3; text-align: center; margin-bottom: 20px;">✅ 一、學校與課程願景</h3>
      <div style="background: #E3F2FD; padding: 20px; border-radius: 15px; margin-bottom: 20px; text-align: center;">
       <div style="font-size: 20px; font-weight: bold; color: #1976D2; margin-bottom: 10px;">
        學校願景：城市樂學園 卓越心鷺江
       </div>
       <div style="color: #0D47A1; font-size: 16px; font-weight: 500;">
        快樂成長｜尊重生命｜開啟智慧｜追求卓越
       </div>
      </div>
      <div style="background: #F3E5F5; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
       <div style="font-weight: bold; color: #6A1B9A; margin-bottom: 15px; text-align: center;">
        課程願景
       </div>
       <div style="color: #4A148C; text-align: center; font-size: 16px; line-height: 1.6;">
        在生活中學習與探索，涵養自省的智慧，<br>
         成為具創意與責任感的未來公民。
       </div>
      </div>
      <div style="background: #E8F5E8; padding: 20px; border-radius: 15px;">
       <div style="font-weight: bold; color: #2E7D32; margin-bottom: 15px; text-align: center;">
        課程發展四大目標
       </div>
       <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center; border: 2px solid #4CAF50;">
         <div style="font-size: 24px; margin-bottom: 8px;">
          🌱
         </div>
         <div style="color: #2E7D32; font-weight: bold; font-size: 14px;">
          養成獨立自主的生活力
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center; border: 2px solid #4CAF50;">
         <div style="font-size: 24px; margin-bottom: 8px;">
          🤝
         </div>
         <div style="color: #2E7D32; font-weight: bold; font-size: 14px;">
          涵養關懷合作的自省力
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center; border: 2px solid #4CAF50;">
         <div style="font-size: 24px; margin-bottom: 8px;">
          🎯
         </div>
         <div style="color: #2E7D32; font-weight: bold; font-size: 14px;">
          成就得意自信的學習力
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center; border: 2px solid #4CAF50;">
         <div style="font-size: 24px; margin-bottom: 8px;">
          🏆
         </div>
         <div style="color: #2E7D32; font-weight: bold; font-size: 14px;">
          培具公民責任的競爭力
         </div>
        </div>
       </div>
       <div style="text-align: center; margin-top: 15px; color: #1B5E20; font-weight: bold;">
        ➡ 願景、目標與課程設計呈現高度一致性
       </div>
      </div>
     </div><!-- 校訂課程六大主軸 -->
     <div class="card" style="border-left-color: #FF9800; margin-bottom: 25px;">
      <h3 style="color: #FF9800; text-align: center; margin-bottom: 20px;">✅ 二、校訂課程六大主軸</h3>
      <div style="background: #FFF3E0; padding: 20px; border-radius: 15px; margin-bottom: 20px; text-align: center;">
       <div style="font-size: 18px; font-weight: bold; color: #E65100; margin-bottom: 10px;">
        鷺江以「樂學．創意．在地」為精神，發展 6 大特色主軸
       </div>
      </div>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
       <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #2196F3;">
        <div style="font-weight: bold; color: #1976D2; margin-bottom: 10px; font-size: 16px;">
         📚 英閱繪
        </div>
        <div style="color: #666; font-size: 14px; margin-bottom: 8px;">
         英語＋閱讀素養
        </div>
        <div style="background: #E3F2FD; padding: 8px 12px; border-radius: 15px; color: #0D47A1; font-size: 12px; font-weight: bold;">
         國際競爭力
        </div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #9C27B0;">
        <div style="font-weight: bold; color: #6A1B9A; margin-bottom: 10px; font-size: 16px;">
         👁️ 閱覽視界
        </div>
        <div style="color: #666; font-size: 14px; margin-bottom: 8px;">
         閱讀素養深化
        </div>
        <div style="background: #F3E5F5; padding: 8px 12px; border-radius: 15px; color: #4A148C; font-size: 12px; font-weight: bold;">
         思考＋表達
        </div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #4CAF50;">
        <div style="font-weight: bold; color: #2E7D32; margin-bottom: 10px; font-size: 16px;">
         🔬 生活科技大觀園
        </div>
        <div style="color: #666; font-size: 14px; margin-bottom: 8px;">
         科技應用與創新
        </div>
        <div style="background: #E8F5E8; padding: 8px 12px; border-radius: 15px; color: #1B5E20; font-size: 12px; font-weight: bold;">
         問題解決
        </div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #FF5722;">
        <div style="font-weight: bold; color: #D84315; margin-bottom: 10px; font-size: 16px;">
         🎲 舞數魔坊
        </div>
        <div style="color: #666; font-size: 14px; margin-bottom: 8px;">
         遊戲化與邏輯思維
        </div>
        <div style="background: #FBE9E7; padding: 8px 12px; border-radius: 15px; color: #BF360C; font-size: 12px; font-weight: bold;">
         計算與推理
        </div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #795548;">
        <div style="font-weight: bold; color: #5D4037; margin-bottom: 10px; font-size: 16px;">
         🎨 舞聞弄墨
        </div>
        <div style="color: #666; font-size: 14px; margin-bottom: 8px;">
         語文與藝文融合
        </div>
        <div style="background: #EFEBE9; padding: 8px 12px; border-radius: 15px; color: #3E2723; font-size: 12px; font-weight: bold;">
         人文美感
        </div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #607D8B;">
        <div style="font-weight: bold; color: #455A64; margin-bottom: 10px; font-size: 16px;">
         💃 舞動生命
        </div>
        <div style="color: #666; font-size: 14px; margin-bottom: 8px;">
         生命教育與成長
        </div>
        <div style="background: #ECEFF1; padding: 8px 12px; border-radius: 15px; color: #263238; font-size: 12px; font-weight: bold;">
         自省與健康
        </div>
       </div>
      </div>
      <div style="background: #E8F5E8; padding: 15px; border-radius: 10px; margin-top: 20px; text-align: center;">
       <div style="color: #2E7D32; font-weight: bold;">
        📌 從低、中、高年級逐層累積跨領域素養，避免課程斷裂
       </div>
      </div>
     </div><!-- 十二年一貫課程地圖 -->
     <div class="card" style="border-left-color: #9C27B0; margin-bottom: 25px;">
      <h3 style="color: #9C27B0; text-align: center; margin-bottom: 20px;">✅ 三、十二年一貫課程地圖（摘述）</h3>
      <div style="background: #F3E5F5; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
       <div style="font-weight: bold; color: #6A1B9A; margin-bottom: 15px;">
        課程模組依年級遞進，內容活潑、命名具象：
       </div>
       <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
        <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #2196F3;">
         <div style="font-weight: bold; color: #1976D2; margin-bottom: 8px;">
          📖 小蛙閱讀系列
         </div>
         <div style="color: #666; font-size: 14px;">
          （全學段）
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #4CAF50;">
         <div style="font-weight: bold; color: #2E7D32; margin-bottom: 8px;">
          🏘️ 在地探索
         </div>
         <div style="color: #666; font-size: 14px;">
          鷺官庄、白鷺鷥的家、蘆洲閃耀星
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #FF9800;">
         <div style="font-weight: bold; color: #E65100; margin-bottom: 8px;">
          💻 數位素養
         </div>
         <div style="color: #666; font-size: 14px;">
          影像魔法師、遊戲設計、數位策展
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #795548;">
         <div style="font-weight: bold; color: #5D4037; margin-bottom: 8px;">
          🌱 生活科技與永續
         </div>
         <div style="color: #666; font-size: 14px;">
          綠能新希望、節能課程
         </div>
        </div>
       </div>
      </div>
      <div style="background: #E3F2FD; padding: 15px; border-radius: 10px; text-align: center;">
       <div style="color: #1976D2; font-weight: bold;">
        ➡ 課程貼近生活、在地文化與國際視野兼具
       </div>
      </div>
     </div><!-- 交通安全校本特色融入 -->
     <div class="card" style="border-left-color: #F44336; margin-bottom: 25px;">
      <h3 style="color: #F44336; text-align: center; margin-bottom: 20px;">✅ 四、交通安全校本特色融入</h3>
      <div style="background: #FFEBEE; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
       <div style="font-weight: bold; color: #C62828; margin-bottom: 15px; text-align: center;">
        依學習成熟度逐步深化
       </div>
       <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
        <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #4CAF50;">
         <div style="font-weight: bold; color: #2E7D32; margin-bottom: 10px; text-align: center;">
          🐣 低年級
         </div>
         <div style="color: #666; font-size: 14px; margin-bottom: 10px;"><strong>主要融入內容：</strong><br>
           行人安全、校園周邊踏查、乘車安全
         </div>
         <div style="background: #E8F5E8; padding: 8px 12px; border-radius: 15px; color: #1B5E20; font-size: 12px; font-weight: bold; text-align: center;">
          效果亮點：生活化易理解
         </div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #FF9800;">
         <div style="font-weight: bold; color: #E65100; margin-bottom: 10px; text-align: center;">
          🧒 中年級
         </div>
         <div style="color: #666; font-size: 14px; margin-bottom: 10px;"><strong>主要融入內容：</strong><br>
           內輪差、死角、影像創作
         </div>
         <div style="background: #FFF3E0; padding: 8px 12px; border-radius: 15px; color: #BF360C; font-size: 12px; font-weight: bold; text-align: center;">
          效果亮點：數位學習結合安全教育
         </div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #2196F3;">
         <div style="font-weight: bold; color: #1976D2; margin-bottom: 10px; text-align: center;">
          👦 高年級
         </div>
         <div style="color: #666; font-size: 14px; margin-bottom: 10px;"><strong>主要融入內容：</strong><br>
           自行車防禦駕駛、路線規劃、急救
         </div>
         <div style="background: #E3F2FD; padding: 8px 12px; border-radius: 15px; color: #0D47A1; font-size: 12px; font-weight: bold; text-align: center;">
          效果亮點：公民責任與永續交通結合
         </div>
        </div>
       </div>
      </div>
      <div style="background: #FFF3E0; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
       <div style="color: #E65100; font-weight: bold; text-align: center;">
        📌 反映鷺江校園周邊「民族路 × 民權路 L 型道路」真實場域
       </div>
      </div>
      <div style="background: #E8F5E8; padding: 15px; border-radius: 10px;">
       <div style="color: #2E7D32; font-weight: bold; text-align: center;">
        📌 與「導護志工團隊」協作，使教學更落地、更安全
       </div>
      </div>
     </div><!-- 在地文化與校園品牌識別 -->
     <div class="card" style="border-left-color: #795548; margin-bottom: 25px;">
      <h3 style="color: #795548; text-align: center; margin-bottom: 20px;">✅ 五、在地文化與校園品牌識別</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
       <div style="background: #E8F5E8; padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #4CAF50;">
        <div style="font-size: 36px; margin-bottom: 10px;">
         🐸
        </div>
        <div style="font-weight: bold; color: #2E7D32; margin-bottom: 8px;">
         小蛙吉祥物
        </div>
        <div style="color: #1B5E20; font-size: 14px;">
         深化閱讀、環境教育品牌
        </div>
       </div>
       <div style="background: #E3F2FD; padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #2196F3;">
        <div style="font-size: 36px; margin-bottom: 10px;">
         🏘️
        </div>
        <div style="font-weight: bold; color: #1976D2; margin-bottom: 8px;">
         鷺江地名、鷺官庄人文
        </div>
        <div style="color: #0D47A1; font-size: 14px;">
         課程場域化
        </div>
       </div>
       <div style="background: #FFF3E0; padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #FF9800;">
        <div style="font-size: 36px; margin-bottom: 10px;">
         🤝
        </div>
        <div style="font-weight: bold; color: #E65100; margin-bottom: 8px;">
         蘆洲社區資源
        </div>
        <div style="color: #BF360C; font-size: 14px;">
         家鄉探索與服務學習
        </div>
       </div>
      </div>
      <div style="background: #F3E5F5; padding: 15px; border-radius: 10px; margin-top: 20px; text-align: center;">
       <div style="color: #6A1B9A; font-weight: bold;">
        ➡ 彰顯學校自身教育特色，逐年累績成果
       </div>
      </div>
     </div><!-- 課程優勢與精進方向 -->
     <div class="card" style="border-left-color: #607D8B; margin-bottom: 25px;">
      <h3 style="color: #607D8B; text-align: center; margin-bottom: 20px;">✅ 六、課程優勢與精進方向</h3>
      <div style="background: #ECEFF1; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
       <div style="font-weight: bold; color: #37474F; margin-bottom: 15px; text-align: center;">
        課程表現指標
       </div>
       <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
         <div style="font-weight: bold; color: #37474F; margin-bottom: 8px;">
          課程架構完整
         </div>
         <div style="color: #FFD700; font-size: 20px;">
          ★★★★★
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
         <div style="font-weight: bold; color: #37474F; margin-bottom: 8px;">
          與願景連動性高
         </div>
         <div style="color: #FFD700; font-size: 20px;">
          ★★★★★
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
         <div style="font-weight: bold; color: #37474F; margin-bottom: 8px;">
          校本特色與融合度
         </div>
         <div style="color: #FFD700; font-size: 20px;">
          ★★★★★
         </div>
        </div>
        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
         <div style="font-weight: bold; color: #37474F; margin-bottom: 8px;">
          評量可視化資料
         </div>
         <div style="color: #FFD700; font-size: 20px;">
          ★★★★☆
         </div>
         <div style="color: #666; font-size: 12px;">
          （可補強）
         </div>
        </div>
       </div>
      </div>
      <div style="background: #E8F5E8; padding: 20px; border-radius: 15px;">
       <div style="font-weight: bold; color: #2E7D32; margin-bottom: 15px; text-align: center;">
        未來精進建議
       </div>
       <div style="color: #1B5E20; font-size: 14px; line-height: 1.6;">
        • 各主軸補充 SLO（學習成果）明確指標<br>
         • 增加評量例示：Rubric、任務、學習歷程佐證<br>
         • 建立三年滾動成果資料庫（影音＋作品 QR Code）
       </div>
      </div>
     </div><!-- 總結 -->
     <div class="card" style="border-left-color: #E91E63; margin-bottom: 25px;">
      <h3 style="color: #E91E63; text-align: center; margin-bottom: 20px;">✅ 七、總結</h3>
      <div style="background: linear-gradient(135deg, #FCE4EC 0%, #F8BBD9 100%); padding: 25px; border-radius: 15px; text-align: center;">
       <div style="color: #AD1457; font-size: 18px; line-height: 1.8; font-weight: 500;">
        鷺江國小校訂課程扎根生活、結合地方、勇於創新，<br>
         培育樂學、負責且具創意的未來公民。<br><br>
         其交通安全特色課程與社區緊密連結，<br>
         更展現「守護孩子，每一步都安心」的教育使命。
       </div>
      </div>
     </div>
    </div><!-- 雙語學習區 -->
    <div class="interactive-section">
     <h2 class="card-title">📚 鷺江國小雙語安全學習</h2><!-- 學習模式選擇 -->
     <div style="text-align: center; margin-bottom: 25px;"><button class="mode-btn active" onclick="switchMode('vocabulary')" style="background: #9C27B0; color: white; border: none; padding: 10px 20px; border-radius: 20px; margin: 0 10px; cursor: pointer; font-weight: bold;">📝 詞彙學習</button> <button class="mode-btn" onclick="switchMode('sentences')" style="background: #E0E0E0; color: #666; border: none; padding: 10px 20px; border-radius: 20px; margin: 0 10px; cursor: pointer; font-weight: bold;">💬 句子練習</button> <button class="mode-btn" onclick="switchMode('quiz')" style="background: #E0E0E0; color: #666; border: none; padding: 10px 20px; border-radius: 20px; margin: 0 10px; cursor: pointer; font-weight: bold;">🎯 隨機測驗</button>
     </div><!-- 詞彙學習區 -->
     <div id="vocabularySection" class="learning-section">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
       <div class="vocab-card" onclick="playAudio('lujiang-elementary')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🏫 Lujiang Elementary School</strong><br><span style="color: #666;">鷺江國小</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('traffic-safety-volunteer')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">👮‍♂️ Traffic Safety Volunteer</strong><br><span style="color: #666;">導護志工</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('pickup-zone')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🚗 Pickup Zone</strong><br><span style="color: #666;">接送區</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('walking-to-school')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🚶‍♂️ Walking to School</strong><br><span style="color: #666;">步行通學</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('crosswalk')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🚸 Crosswalk</strong><br><span style="color: #666;">人行穿越道</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('traffic-light')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🚦 Traffic Light</strong><br><span style="color: #666;">交通號誌</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('safety-helmet')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">⛑️ Safety Helmet</strong><br><span style="color: #666;">安全帽</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('school-bus')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🚌 School Bus</strong><br><span style="color: #666;">校車</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('intersection')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🛣️ Intersection</strong><br><span style="color: #666;">十字路口</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
       <div class="vocab-card" onclick="playAudio('sidewalk')" style="background: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;"><strong style="color: #9C27B0;">🚶‍♀️ Sidewalk</strong><br><span style="color: #666;">人行道</span><br><small style="color: #999;">點擊聽發音</small>
       </div>
      </div>
     </div><!-- 句子練習區 -->
     <div id="sentencesSection" class="learning-section" style="display: none;">
      <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
       <div class="sentence-card" onclick="playSentence('sentence1')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🏫 "Lujiang Elementary School has 88 traffic safety volunteers."
        </div>
        <div style="color: #666; font-size: 16px;">
         「鷺江國小有88位導護志工。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence2')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🚗 "Cars use the pickup zone on Minzu Road."
        </div>
        <div style="color: #666; font-size: 16px;">
         「汽車使用民族路的接送區。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence3')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🚸 "Always use the crosswalk when crossing the street."
        </div>
        <div style="color: #666; font-size: 16px;">
         「過馬路時一定要使用人行穿越道。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence4')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🚦 "Wait for the green light before crossing."
        </div>
        <div style="color: #666; font-size: 16px;">
         「等綠燈亮了再過馬路。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence5')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         ⛑️ "Students must wear safety helmets when riding bicycles."
        </div>
        <div style="color: #666; font-size: 16px;">
         「學生騎自行車時必須戴安全帽。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence6')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🚌 "The school bus stops at the designated area."
        </div>
        <div style="color: #666; font-size: 16px;">
         「校車在指定區域停靠。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence7')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🛣️ "Be extra careful at intersections."
        </div>
        <div style="color: #666; font-size: 16px;">
         「在十字路口要特別小心。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence8')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🚶‍♀️ "Walk on the sidewalk, not on the road."
        </div>
        <div style="color: #666; font-size: 16px;">
         「走在人行道上，不要走在馬路上。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence9')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         👮‍♂️ "Follow the traffic safety volunteer's instructions."
        </div>
        <div style="color: #666; font-size: 16px;">
         「遵循導護志工的指示。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
       <div class="sentence-card" onclick="playSentence('sentence10')" style="background: white; padding: 20px; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; border: 2px solid transparent;">
        <div style="font-size: 18px; color: #9C27B0; font-weight: bold; margin-bottom: 10px;">
         🚶‍♂️ "Walking to school is healthy and environmentally friendly."
        </div>
        <div style="color: #666; font-size: 16px;">
         「步行上學既健康又環保。」
        </div><small style="color: #999;">點擊聽完整句子發音</small>
       </div>
      </div>
     </div><!-- 隨機測驗區 -->
     <div id="quizSection" class="learning-section" style="display: none;">
      <div style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);"><!-- 測驗統計 -->
       <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; background: #F5F5F5; padding: 15px; border-radius: 10px;">
        <div style="text-align: center;">
         <div style="font-size: 24px; font-weight: bold; color: #2196F3;" id="currentQuestionNum">
          1
         </div>
         <div style="font-size: 12px; color: #666;">
          題目
         </div>
        </div>
        <div style="text-align: center;">
         <div style="font-size: 24px; font-weight: bold; color: #4CAF50;" id="correctCount">
          0
         </div>
         <div style="font-size: 12px; color: #666;">
          答對
         </div>
        </div>
        <div style="text-align: center;">
         <div style="font-size: 24px; font-weight: bold; color: #FF9800;" id="totalAttempts">
          0
         </div>
         <div style="font-size: 12px; color: #666;">
          總題數
         </div>
        </div>
        <div style="text-align: center;">
         <div style="font-size: 24px; font-weight: bold; color: #9C27B0;" id="accuracy">
          0%
         </div>
         <div style="font-size: 12px; color: #666;">
          正確率
         </div>
        </div>
       </div><!-- 題目區域 -->
       <div id="quizQuestion" style="background: #F8F9FA; padding: 25px; border-radius: 15px; margin-bottom: 20px; border-left: 5px solid #2196F3;">
        <div style="font-size: 18px; font-weight: bold; color: #1976D2; margin-bottom: 15px;" id="questionText">
         點擊「下一題」開始測驗
        </div>
        <div style="font-size: 16px; color: #666; margin-bottom: 20px;" id="questionChinese">
         準備好了嗎？
        </div>
        <div id="quizOptions" style="display: grid; gap: 12px;"><!-- 選項將動態生成 -->
        </div>
       </div><!-- 結果顯示 -->
       <div id="quizResult" style="min-height: 60px; padding: 15px; border-radius: 10px; font-weight: bold; text-align: center; margin-bottom: 20px; display: none;"><!-- 結果將顯示在這裡 -->
       </div><!-- 控制按鈕 -->
       <div style="display: flex; gap: 15px; justify-content: center;"><button onclick="generateRandomQuiz()" style="background: #2196F3; color: white; border: none; border-radius: 25px; padding: 12px 25px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s ease;"> 🎲 下一題 </button> <button onclick="resetQuizStats()" style="background: #FF9800; color: white; border: none; border-radius: 25px; padding: 12px 25px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s ease;"> 🔄 重置統計 </button> <button onclick="playQuestionAudio()" id="audioBtn" style="background: #9C27B0; color: white; border: none; border-radius: 25px; padding: 12px 25px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; display: none;"> 🔊 聽發音 </button>
       </div>
      </div>
     </div>
    </div>
   </div><!-- 交通狀況頁面 -->
   <div id="traffic-page" class="content-page" style="display: none;">
    <div style="text-align: center; margin-bottom: 30px; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 5px solid #FF9800;">
     <h1 style="color: #FF9800; font-size: 28px; margin: 0;">🚦 即時交通狀況</h1>
     <p style="color: #666; margin: 10px 0 0 0; font-size: 16px;">鷺江國小周邊道路即時監控與分析</p>
    </div><!-- 即時交通監控 -->
    <div class="interactive-section">
     <h2 class="card-title">📊 即時交通監控儀表板</h2>
     <div class="content-grid">
      <div class="card" style="border-left-color: #FF9800;">
       <h3 style="color: #FF9800; text-align: center; margin-bottom: 20px;">🚗 民族路交通狀況</h3>
       <div style="text-align: center; margin: 20px 0;">
        <div id="minzuTrafficStatus" style="width: 80px; height: 80px; border-radius: 50%; background: #4CAF50; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white; font-weight: bold;">
         🟢
        </div>
        <div style="font-size: 18px; font-weight: bold; color: #4CAF50;">
         順暢
        </div>
        <div style="font-size: 14px; color: #666; margin-top: 10px;">
         車流量：<span id="minzuFlow">中等</span><br>
          平均車速：<span id="minzuSpeed">35</span> km/h<br>
          更新時間：<span id="minzuTime">14:30</span>
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #4CAF50;">
       <h3 style="color: #4CAF50; text-align: center; margin-bottom: 20px;">🏍️ 民權路交通狀況</h3>
       <div style="text-align: center; margin: 20px 0;">
        <div id="minquanTrafficStatus" style="width: 80px; height: 80px; border-radius: 50%; background: #4CAF50; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white; font-weight: bold;">
         🟢
        </div>
        <div style="font-size: 18px; font-weight: bold; color: #4CAF50;">
         順暢
        </div>
        <div style="font-size: 14px; color: #666; margin-top: 10px;">
         車流量：<span id="minquanFlow">輕微</span><br>
          平均車速：<span id="minquanSpeed">28</span> km/h<br>
          更新時間：<span id="minquanTime">14:30</span>
        </div>
       </div>
      </div>
     </div><!-- 交通預警系統 -->
     <div class="alert-box" style="background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%); border-color: #FF9800;">
      <div class="alert-title" style="color: #E65100;">
       ⚠️ 交通預警提醒
      </div>
      <div class="alert-content" style="color: #BF360C;">
       上學時段 (07:20-08:00) 及放學時段 (15:40-16:20) 為交通尖峰時間<br>
        建議提早出發，配合導護志工指揮
      </div>
     </div>
    </div><!-- 公車資訊 -->
    <div class="interactive-section">
     <h2 class="card-title">🚌 公車路線資訊</h2>
     <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
      <div class="card" style="border-left-color: #2196F3;">
       <h4 style="color: #2196F3; margin-bottom: 15px;">📍 鷺江國小站 (民族路)</h4>
       <div style="background: #F5F5F5; padding: 15px; border-radius: 10px;">
        <div style="margin-bottom: 10px;">
         <strong>🚌 264路線</strong> - 往板橋
        </div>
        <div style="margin-bottom: 10px;">
         <strong>🚌 306路線</strong> - 往三重
        </div>
        <div style="margin-bottom: 10px;">
         <strong>🚌 508路線</strong> - 往蘆洲
        </div>
        <div style="color: #666; font-size: 14px; margin-top: 15px;">
         班次間隔：8-12分鐘<br>
          營運時間：05:30-23:00
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #9C27B0;">
       <h4 style="color: #9C27B0; margin-bottom: 15px;">🕐 即時到站資訊</h4>
       <div style="background: #F5F5F5; padding: 15px; border-radius: 10px;">
        <div style="margin-bottom: 8px;">
         264路線：<span style="color: #4CAF50; font-weight: bold;">3分鐘</span>
        </div>
        <div style="margin-bottom: 8px;">
         306路線：<span style="color: #FF9800; font-weight: bold;">7分鐘</span>
        </div>
        <div style="margin-bottom: 8px;">
         508路線：<span style="color: #4CAF50; font-weight: bold;">2分鐘</span>
        </div>
        <div style="color: #666; font-size: 12px; margin-top: 10px;">
         ⏰ 更新時間：14:30
        </div>
       </div>
      </div>
     </div><!-- 公車即時位置追蹤 -->
     <div style="margin-top: 25px;">
      <h3 style="color: #FF5722; text-align: center; margin-bottom: 20px;">🚍 公車即時位置追蹤</h3><!-- 264路線追蹤 -->
      <div class="card" style="border-left-color: #FF5722; margin-bottom: 20px;">
       <h4 style="color: #FF5722; margin-bottom: 15px;">🚌 264路線 - 往板橋方向</h4>
       <div style="background: #FFF3E0; padding: 20px; border-radius: 10px;">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
         <div style="font-weight: bold; color: #E65100;">
          下一班公車位置：
         </div>
         <div style="background: #4CAF50; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: bold;">
          🚌 行駛中
         </div>
        </div><!-- 路線進度條 -->
        <div style="background: #E0E0E0; height: 8px; border-radius: 4px; margin: 15px 0; position: relative;">
         <div style="background: #4CAF50; height: 8px; border-radius: 4px; width: 75%; position: relative;">
          <div style="position: absolute; right: -8px; top: -4px; width: 16px; height: 16px; background: #4CAF50; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></div>
         </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; font-size: 12px;">
         <div style="text-align: center; color: #666;">
          <div style="font-weight: bold; color: #4CAF50;">
           ✓ 已通過
          </div>
          <div>
           三重站
          </div>
         </div>
         <div style="text-align: center; color: #666;">
          <div style="font-weight: bold; color: #4CAF50;">
           ✓ 已通過
          </div>
          <div>
           蘆洲站
          </div>
         </div>
         <div style="text-align: center; color: #FF5722;">
          <div style="font-weight: bold; color: #FF5722;">
           🚌 目前位置
          </div>
          <div>
           民族路口
          </div>
         </div>
         <div style="text-align: center; color: #999;">
          <div style="font-weight: bold;">
           ⏳ 即將到達
          </div>
          <div>
           鷺江國小
          </div>
         </div>
        </div>
        <div style="background: #E8F5E8; padding: 10px; border-radius: 8px; margin-top: 15px; text-align: center;"><span style="color: #2E7D32; font-weight: bold;">📍 距離鷺江國小站約 200公尺，預計 3分鐘到達</span>
        </div>
       </div>
      </div><!-- 306路線追蹤 -->
      <div class="card" style="border-left-color: #9C27B0; margin-bottom: 20px;">
       <h4 style="color: #9C27B0; margin-bottom: 15px;">🚌 306路線 - 往三重方向</h4>
       <div style="background: #F3E5F5; padding: 20px; border-radius: 10px;">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
         <div style="font-weight: bold; color: #6A1B9A;">
          下一班公車位置：
         </div>
         <div style="background: #FF9800; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: bold;">
          🚌 行駛中
         </div>
        </div><!-- 路線進度條 -->
        <div style="background: #E0E0E0; height: 8px; border-radius: 4px; margin: 15px 0; position: relative;">
         <div style="background: #FF9800; height: 8px; border-radius: 4px; width: 45%; position: relative;">
          <div style="position: absolute; right: -8px; top: -4px; width: 16px; height: 16px; background: #FF9800; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"></div>
         </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; font-size: 12px;">
         <div style="text-align: center; color: #666;">
          <div style="font-weight: bold; color: #4CAF50;">
           ✓ 已通過
          </div>
          <div>
           板橋站
          </div>
         </div>
         <div style="text-align: center; color: #9C27B0;">
          <div style="font-weight: bold; color: #9C27B0;">
           🚌 目前位置
          </div>
          <div>
           中山路口
          </div>
         </div>
         <div style="text-align: center; color: #999;">
          <div style="font-weight: bold;">
           ⏳ 尚未到達
          </div>
          <div>
           民族路口
          </div>
         </div>
         <div style="text-align: center; color: #999;">
          <div style="font-weight: bold;">
           ⏳ 尚未到達
          </div>
          <div>
           鷺江國小
          </div>
         </div>
        </div>
        <div style="background: #FFF3E0; padding: 10px; border-radius: 8px; margin-top: 15px; text-align: center;"><span style="color: #E65100; font-weight: bold;">📍 距離鷺江國小站約 800公尺，預計 7分鐘到達</span>
        </div>
       </div>
      </div><!-- 508路線追蹤 -->
      <div class="card" style="border-left-color: #2196F3;">
       <h4 style="color: #2196F3; margin-bottom: 15px;">🚌 508路線 - 往蘆洲方向</h4>
       <div style="background: #E3F2FD; padding: 20px; border-radius: 10px;">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
         <div style="font-weight: bold; color: #1976D2;">
          下一班公車位置：
         </div>
         <div style="background: #4CAF50; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: bold;">
          🚌 即將進站
         </div>
        </div><!-- 路線進度條 -->
        <div style="background: #E0E0E0; height: 8px; border-radius: 4px; margin: 15px 0; position: relative;">
         <div style="background: #4CAF50; height: 8px; border-radius: 4px; width: 90%; position: relative;">
          <div style="position: absolute; right: -8px; top: -4px; width: 16px; height: 16px; background: #4CAF50; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.2); animation: pulse 1.5s infinite;"></div>
         </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; font-size: 12px;">
         <div style="text-align: center; color: #666;">
          <div style="font-weight: bold; color: #4CAF50;">
           ✓ 已通過
          </div>
          <div>
           三重站
          </div>
         </div>
         <div style="text-align: center; color: #666;">
          <div style="font-weight: bold; color: #4CAF50;">
           ✓ 已通過
          </div>
          <div>
           蘆洲站
          </div>
         </div>
         <div style="text-align: center; color: #666;">
          <div style="font-weight: bold; color: #4CAF50;">
           ✓ 已通過
          </div>
          <div>
           民族路口
          </div>
         </div>
         <div style="text-align: center; color: #2196F3;">
          <div style="font-weight: bold; color: #2196F3;">
           🚌 即將進站
          </div>
          <div>
           鷺江國小
          </div>
         </div>
        </div>
        <div style="background: #E8F5E8; padding: 10px; border-radius: 8px; margin-top: 15px; text-align: center;"><span style="color: #2E7D32; font-weight: bold;">🎯 公車即將進站，預計 2分鐘到達！</span>
        </div>
       </div>
      </div><!-- 更新說明 -->
      <div style="background: #F5F5F5; padding: 15px; border-radius: 10px; text-align: center; margin-top: 20px;">
       <div style="color: #666; font-size: 14px; line-height: 1.5;"><strong style="color: #1976D2;">📡 即時追蹤說明：</strong><br>
         公車位置每30秒自動更新，資料來源：新北市公車動態資訊系統<br><small style="color: #999;">最後更新：14:30 | 下次更新：14:31</small>
       </div>
      </div>
     </div>
    </div>
   </div><!-- 安全指引頁面 -->
   <div id="safety-page" class="content-page" style="display: none;">
    <div style="text-align: center; margin-bottom: 30px; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 5px solid #4CAF50;">
     <h1 style="color: #4CAF50; font-size: 28px; margin: 0;">🛡️ 交通安全指引</h1>
     <p style="color: #666; margin: 10px 0 0 0; font-size: 16px;">完整的交通安全規範與緊急應變措施</p>
    </div><!-- 學生安全守則 -->
    <div class="interactive-section">
     <h2 class="card-title">👦👧 學生交通安全守則</h2>
     <div class="content-grid">
      <div class="card" style="border-left-color: #2196F3;">
       <h3 style="color: #2196F3; text-align: center; margin-bottom: 20px;">🚶‍♂️ 步行安全</h3>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          👀
         </div>
         <div class="tip-title">
          注意觀察
         </div>
        </div>
        <div class="tip-content">
         • 過馬路前停看聽<br>
          • 注意轉彎車輛<br>
          • 不在路邊嬉戲
        </div>
       </div>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          🚸
         </div>
         <div class="tip-title">
          使用行人穿越道
         </div>
        </div>
        <div class="tip-content">
         • 走斑馬線或天橋<br>
          • 遵守號誌燈<br>
          • 舉手過馬路
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #FF9800;">
       <h3 style="color: #FF9800; text-align: center; margin-bottom: 20px;">🚲 騎乘安全</h3>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          ⛑️
         </div>
         <div class="tip-title">
          安全裝備
         </div>
        </div>
        <div class="tip-content">
         • 正確配戴安全帽<br>
          • 穿著鮮豔衣物<br>
          • 檢查車輛狀況
        </div>
       </div>
       <div class="tip-item">
        <div class="tip-header">
         <div class="tip-emoji">
          🛣️
         </div>
         <div class="tip-title">
          行駛規則
         </div>
        </div>
        <div class="tip-content">
         • 靠右側行駛<br>
          • 不並排騎乘<br>
          • 遵守交通號誌
        </div>
       </div>
      </div>
     </div>
    </div><!-- 家長接送指引 -->
    <div class="interactive-section">
     <h2 class="card-title">👨‍👩‍👧‍👦 家長接送安全指引</h2>
     <div class="alert-box">
      <div class="alert-title">
       🚗 汽車接送注意事項
      </div>
      <div class="alert-content">
       1. 請使用民族路指定接送區<br>
        2. 配合導護志工指揮<br>
        3. 不可並排停車或逆向行駛<br>
        4. 學生上下車時請注意後方來車
      </div>
     </div>
     <div class="alert-box" style="background: linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%); border-color: #4CAF50;">
      <div class="alert-title" style="color: #2E7D32;">
       🏍️ 機車接送注意事項
      </div>
      <div class="alert-content" style="color: #1B5E20;">
       1. 請使用民權路指定接送區<br>
        2. 學生必須配戴安全帽<br>
        3. 不可在人行道上騎乘<br>
        4. 注意學生上下車安全
      </div>
     </div>
    </div><!-- 緊急應變 -->
    <div class="interactive-section">
     <h2 class="card-title">🚨 緊急應變措施</h2>
     <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
      <div class="card" style="border-left-color: #F44336;">
       <h4 style="color: #F44336; text-align: center;">🚑 發生事故時</h4>
       <div style="background: #FFEBEE; padding: 15px; border-radius: 10px; margin-top: 15px;">
        <div style="font-weight: bold; margin-bottom: 10px;">
         立即行動：
        </div>
        <div style="font-size: 14px; line-height: 1.6;">
         1. 確保現場安全<br>
          2. 撥打119或110<br>
          3. 通知學校 (02)2281-9980<br>
          4. 通知家長<br>
          5. 保護現場證據
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #2196F3;">
       <h4 style="color: #2196F3; text-align: center;">📞 緊急聯絡電話</h4>
       <div style="background: #E3F2FD; padding: 15px; border-radius: 10px; margin-top: 15px;">
        <div style="font-size: 14px; line-height: 1.8;"><strong>學校總機：</strong>(02)2281-9980<br><strong>學務處：</strong>(02)2281-9980#9300<br><strong>警察局：</strong>110<br><strong>消防局：</strong>119<br><strong>醫療急救：</strong>119
        </div>
       </div>
      </div>
     </div>
    </div>
   </div><!-- 社區服務頁面 -->
   <div id="community-page" class="content-page" style="display: none;">
    <div style="text-align: center; margin-bottom: 30px; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 5px solid #9C27B0;">
     <h1 style="color: #9C27B0; font-size: 28px; margin: 0;">👥 社區服務與合作</h1>
     <p style="color: #666; margin: 10px 0 0 0; font-size: 16px;">導護志工服務與社區交通安全合作計畫</p>
    </div><!-- 導護志工服務 -->
    <div class="interactive-section">
     <h2 class="card-title">👮‍♂️ 導護志工服務團隊</h2>
     <div class="content-grid">
      <div class="card" style="border-left-color: #9C27B0;">
       <h3 style="color: #9C27B0; text-align: center; margin-bottom: 20px;">📊 志工團隊組織</h3>
       <div style="background: #F3E5F5; padding: 20px; border-radius: 15px; margin-bottom: 15px;">
        <div style="text-align: center; margin-bottom: 15px;">
         <div style="font-size: 36px; font-weight: bold; color: #9C27B0;">
          88
         </div>
         <div style="color: #7B1FA2; font-weight: bold;">
          位導護志工
         </div>
        </div>
        <div style="font-size: 14px; color: #4A148C; line-height: 1.6;">
         • 分為七個服務組別<br>
          • 每日輪值執勤<br>
          • 涵蓋上下學時段<br>
          • 定期接受安全訓練
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #FF9800;">
       <h3 style="color: #FF9800; text-align: center; margin-bottom: 20px;">⏰ 服務時段安排</h3>
       <div style="background: #FFF3E0; padding: 15px; border-radius: 10px; margin-bottom: 10px;">
        <div style="font-weight: bold; color: #E65100; margin-bottom: 8px;">
         🌅 上學時段
        </div>
        <div style="font-size: 14px; color: #BF360C;">
         07:20 - 08:00<br><small>重點路口：民族路、民權路交叉口</small>
        </div>
       </div>
       <div style="background: #FFF3E0; padding: 15px; border-radius: 10px;">
        <div style="font-weight: bold; color: #E65100; margin-bottom: 8px;">
         🌆 放學時段
        </div>
        <div style="font-size: 14px; color: #BF360C;">
         15:40 - 16:20<br><small>協助學生安全離校</small>
        </div>
       </div>
      </div>
     </div><!-- 志工招募 -->
     <div class="alert-box" style="background: linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 100%); border-color: #9C27B0;">
      <div class="alert-title" style="color: #6A1B9A;">
       🙋‍♀️ 歡迎加入導護志工行列！
      </div>
      <div class="alert-content" style="color: #4A148C;">
       我們持續招募熱心的家長與社區民眾加入導護志工服務<br>
        報名請洽學務處：(02)2281-1884 分機210
      </div>
     </div>
    </div><!-- 社區合作計畫 -->
    <div class="interactive-section">
     <h2 class="card-title">🤝 社區交通安全合作計畫</h2>
     <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
      <div class="card" style="border-left-color: #2196F3;">
       <h4 style="color: #2196F3; margin-bottom: 15px;">🏢 合作機關</h4>
       <div style="background: #E3F2FD; padding: 15px; border-radius: 10px;">
        <div style="margin-bottom: 8px;">
         🚔 蘆洲分局
        </div>
        <div style="margin-bottom: 8px;">
         🏛️ 蘆洲區公所
        </div>
        <div style="margin-bottom: 8px;">
         🚧 新北市交通局
        </div>
        <div style="margin-bottom: 8px;">
         🏥 蘆洲衛生所
        </div>
        <div style="color: #666; font-size: 12px; margin-top: 10px;">
         共同維護校園周邊交通安全
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #4CAF50;">
       <h4 style="color: #4CAF50; margin-bottom: 15px;">📋 合作項目</h4>
       <div style="background: #E8F5E8; padding: 15px; border-radius: 10px;">
        <div style="margin-bottom: 8px;">
         🚦 交通號誌優化
        </div>
        <div style="margin-bottom: 8px;">
         🛣️ 道路標線維護
        </div>
        <div style="margin-bottom: 8px;">
         📚 安全教育宣導
        </div>
        <div style="margin-bottom: 8px;">
         🚨 違規取締加強
        </div>
        <div style="color: #666; font-size: 12px; margin-top: 10px;">
         定期檢討改善措施
        </div>
       </div>
      </div>
     </div>
    </div><!-- 社區回饋 -->
    <div class="interactive-section">
     <h2 class="card-title">💝 社區服務成果</h2>
     <div class="content-grid">
      <div class="card" style="border-left-color: #FF5722;">
       <h4 style="color: #FF5722; text-align: center;">📈 服務統計</h4>
       <div style="text-align: center; padding: 20px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
         <div style="background: #FFF3E0; padding: 15px; border-radius: 10px;">
          <div style="font-size: 24px; font-weight: bold; color: #FF5722;">
           365
          </div>
          <div style="font-size: 12px; color: #BF360C;">
           服務天數/年
          </div>
         </div>
         <div style="background: #FFF3E0; padding: 15px; border-radius: 10px;">
          <div style="font-size: 24px; font-weight: bold; color: #FF5722;">
           0
          </div>
          <div style="font-size: 12px; color: #BF360C;">
           重大事故
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #607D8B;">
       <h4 style="color: #607D8B; text-align: center;">🏆 獲得肯定</h4>
       <div style="background: #ECEFF1; padding: 15px; border-radius: 10px; margin-top: 15px;">
        <div style="font-size: 14px; line-height: 1.6; color: #37474F;">
         • 新北市交通安全優良學校<br>
          • 社區服務績優團隊<br>
          • 家長會志工服務獎<br>
          • 校園安全維護典範
        </div>
       </div>
      </div>
     </div>
    </div>
   </div><!-- 數位資源頁面 -->
   <div id="resources-page" class="content-page" style="display: none;">
    <div style="text-align: center; margin-bottom: 30px; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-top: 5px solid #FF5722;">
     <h1 style="color: #FF5722; font-size: 28px; margin: 0;">📱 數位資源與工具</h1>
     <p style="color: #666; margin: 10px 0 0 0; font-size: 16px;">智慧科技輔助交通安全管理與學習</p>
    </div><!-- 數位工具 -->
    <div class="interactive-section">
     <h2 class="card-title">🔧 數位安全工具</h2>
     <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
      <div class="card" style="border-left-color: #2196F3; cursor: pointer;" onclick="openDigitalTool('map')">
       <div style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 15px;">
         🗺️
        </div>
        <h4 style="color: #2196F3; margin-bottom: 10px;">交通安全地圖</h4>
        <p style="color: #666; font-size: 14px; line-height: 1.5;">互動式校園周邊安全地圖<br>
          標示危險路段與安全路線</p>
        <div style="background: #E3F2FD; padding: 8px 15px; border-radius: 15px; margin-top: 15px; font-size: 12px; color: #1976D2;">
         點擊開啟工具
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #4CAF50; cursor: pointer;" onclick="openDigitalTool('timer')">
       <div style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 15px;">
         ⏰
        </div>
        <h4 style="color: #4CAF50; margin-bottom: 10px;">上學時間計算器</h4>
        <p style="color: #666; font-size: 14px; line-height: 1.5;">計算最佳出發時間<br>
          避開交通尖峰時段</p>
        <div style="background: #E8F5E8; padding: 8px 15px; border-radius: 15px; margin-top: 15px; font-size: 12px; color: #2E7D32;">
         點擊開啟工具
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #FF9800; cursor: pointer;" onclick="openDigitalTool('weather')">
       <div style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 15px;">
         🌤️
        </div>
        <h4 style="color: #FF9800; margin-bottom: 10px;">天氣交通提醒</h4>
        <p style="color: #666; font-size: 14px; line-height: 1.5;">根據天氣狀況<br>
          提供交通安全建議</p>
        <div style="background: #FFF3E0; padding: 8px 15px; border-radius: 15px; margin-top: 15px; font-size: 12px; color: #E65100;">
         點擊開啟工具
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #9C27B0; cursor: pointer;" onclick="openDigitalTool('report')">
       <div style="text-align: center;">
        <div style="font-size: 48px; margin-bottom: 15px;">
         📝
        </div>
        <h4 style="color: #9C27B0; margin-bottom: 10px;">安全狀況回報</h4>
        <p style="color: #666; font-size: 14px; line-height: 1.5;">即時回報交通狀況<br>
          協助改善校園安全</p>
        <div style="background: #F3E5F5; padding: 8px 15px; border-radius: 15px; margin-top: 15px; font-size: 12px; color: #6A1B9A;">
         點擊開啟工具
        </div>
       </div>
      </div>
     </div>
    </div><!-- 數位工具展示區 -->
    <div id="digitalToolDisplay" class="interactive-section" style="display: none;">
     <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <h2 class="card-title" id="toolTitle" style="margin: 0;">🔧 數位工具</h2><button onclick="closeDigitalTool()" style="background: #F44336; color: white; border: none; border-radius: 20px; padding: 8px 15px; cursor: pointer; font-size: 14px;">✕ 關閉</button>
     </div>
     <div id="toolContent" style="background: white; border-radius: 15px; padding: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);"><!-- 工具內容將動態載入 -->
     </div>
    </div><!-- 學習資源 -->
    <div class="interactive-section">
     <h2 class="card-title">📚 線上學習資源</h2>
     <div class="content-grid">
      <div class="card" style="border-left-color: #E91E63;">
       <h4 style="color: #E91E63; margin-bottom: 15px;">🎥 教學影片</h4>
       <div style="background: #FCE4EC; padding: 15px; border-radius: 10px;">
        <div style="margin-bottom: 10px;"><strong>📹 交通安全宣導片</strong><br><small style="color: #666;">適合各年級學生觀看</small>
        </div>
        <div style="margin-bottom: 10px;"><strong>📹 正確過馬路方式</strong><br><small style="color: #666;">實際示範教學</small>
        </div>
        <div style="margin-bottom: 10px;"><strong>📹 騎乘安全須知</strong><br><small style="color: #666;">自行車與機車安全</small>
        </div>
       </div>
      </div>
      <div class="card" style="border-left-color: #3F51B5;">
       <h4 style="color: #3F51B5; margin-bottom: 15px;">📖 數位教材</h4>
       <div style="background: #E8EAF6; padding: 15px; border-radius: 10px;">
        <div style="margin-bottom: 10px;"><strong>📚 交通標誌認識</strong><br><small style="color: #666;">互動式標誌學習</small>
        </div>
        <div style="margin-bottom: 10px;"><strong>📚 安全知識測驗</strong><br><small style="color: #666;">線上測驗系統</small>
        </div>
        <div style="margin-bottom: 10px;"><strong>📚 情境模擬練習</strong><br><small style="color: #666;">虛擬實境體驗</small>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </main>
  <script>
        // 頁面導航功能
        let currentPage = 'overview';

        function showPage(pageName) {
            // 隱藏所有頁面
            const allPages = document.querySelectorAll('.content-page');
            allPages.forEach(page => {
                page.style.display = 'none';
            });
            
            // 顯示對應的頁面
            const targetPage = document.getElementById(pageName + '-page');
            if (targetPage) {
                targetPage.style.display = 'block';
            }
            
            // 更新導航按鈕樣式
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // 高亮當前按鈕
            const activeBtn = document.querySelector(`[data-page="${pageName}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            currentPage = pageName;
            
            // 滾動到頂部
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 更新快速資訊條
        function updateQuickInfo() {
            const now = new Date();
            const timeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            document.getElementById('quickTime').textContent = timeString;
            
            // 根據時間更新交通狀況
            const hour = now.getHours();
            const minute = now.getMinutes();
            const currentTime = hour * 60 + minute;
            
            let trafficStatus = '🟢 順暢';
            if ((currentTime >= 440 && currentTime <= 480) || (currentTime >= 940 && currentTime <= 980)) {
                trafficStatus = '🔴 壅塞';
            } else if ((currentTime >= 420 && currentTime < 440) || (currentTime >= 920 && currentTime < 940)) {
                trafficStatus = '🟡 漸增';
            }
            
            document.getElementById('quickTraffic').textContent = trafficStatus;
        }

        // 測驗功能
        let quizAnswers = {};
        let totalQuestions = 2;

        function checkAnswer(questionNum, selectedOption, isCorrect) {
            // 記錄答案
            quizAnswers[questionNum] = { selected: selectedOption, correct: isCorrect };
            
            // 取得相關元素
            const quizCard = document.getElementById(`quiz${questionNum}`);
            const resultDiv = document.getElementById(`result${questionNum}`);
            const options = quizCard.querySelectorAll('.quiz-option');
            
            // 禁用所有選項
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                option.style.opacity = '0.7';
            });
            
            // 標記正確和錯誤答案
            options.forEach(option => {
                const optionText = option.textContent.trim();
                if (optionText.startsWith(selectedOption)) {
                    if (isCorrect) {
                        option.style.background = '#E8F5E8';
                        option.style.borderColor = '#4CAF50';
                        option.style.color = '#2E7D32';
                    } else {
                        option.style.background = '#FFEBEE';
                        option.style.borderColor = '#F44336';
                        option.style.color = '#C62828';
                    }
                }
                // 顯示正確答案
                if (!isCorrect) {
                    const correctAnswers = { 1: 'B', 2: 'B' };
                    if (optionText.startsWith(correctAnswers[questionNum])) {
                        option.style.background = '#E8F5E8';
                        option.style.borderColor = '#4CAF50';
                        option.style.color = '#2E7D32';
                    }
                }
            });
            
            // 顯示結果訊息
            if (isCorrect) {
                resultDiv.innerHTML = `
                    <div style="background: #E8F5E8; color: #2E7D32; border: 2px solid #4CAF50; padding: 15px; border-radius: 10px;">
                        🎉 答對了！<br>
                        <small>${getExplanation(questionNum)}</small>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div style="background: #FFEBEE; color: #C62828; border: 2px solid #F44336; padding: 15px; border-radius: 10px;">
                        ❌ 答錯了！<br>
                        <small>正確答案是：${getCorrectAnswerText(questionNum)}<br>
                        ${getExplanation(questionNum)}</small>
                    </div>
                `;
            }
            
            // 檢查是否完成所有題目
            if (Object.keys(quizAnswers).length === totalQuestions) {
                setTimeout(showQuizSummary, 1000);
            }
        }

        function getCorrectAnswerText(questionNum) {
            const correctTexts = {
                1: 'B. 民族路',
                2: 'B. 88位'
            };
            return correctTexts[questionNum];
        }

        function getExplanation(questionNum) {
            const explanations = {
                1: '鷺江國小正門位於民族路7號，是主要的出入口。',
                2: '114學年度共有88位導護志工，編列為七組協助維護交通安全。'
            };
            return explanations[questionNum];
        }

        function showQuizSummary() {
            const correctCount = Object.values(quizAnswers).filter(answer => answer.correct).length;
            const scoreText = `${correctCount}/${totalQuestions}`;
            const percentage = Math.round((correctCount / totalQuestions) * 100);
            
            document.getElementById('scoreText').textContent = scoreText;
            
            let message = '';
            
            if (percentage >= 90) {
                message = '🏆 太棒了！你是交通安全小專家！';
            } else if (percentage >= 70) {
                message = '👍 很好！你對學校的交通安全有不錯的了解！';
            } else {
                message = '📚 還不錯！建議你再仔細閱讀交通安全資訊。';
            }
            
            document.getElementById('scoreMessage').textContent = message;
            document.getElementById('quizSummary').style.display = 'block';
            
            // 滾動到結果區域
            document.getElementById('quizSummary').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
        }

        function resetQuiz() {
            // 重置答案記錄
            quizAnswers = {};
            
            // 重置所有題目
            for (let i = 1; i <= totalQuestions; i++) {
                const quizCard = document.getElementById(`quiz${i}`);
                const resultDiv = document.getElementById(`result${i}`);
                const options = quizCard.querySelectorAll('.quiz-option');
                
                // 重置選項樣式
                options.forEach(option => {
                    option.style.background = '#F5F5F5';
                    option.style.borderColor = '#E0E0E0';
                    option.style.color = 'inherit';
                    option.style.pointerEvents = 'auto';
                    option.style.opacity = '1';
                });
                
                // 清空結果
                resultDiv.innerHTML = '';
            }
            
            // 隱藏總結
            document.getElementById('quizSummary').style.display = 'none';
        }

        // 雙語學習功能
        let currentMode = 'vocabulary';

        function switchMode(mode) {
            currentMode = mode;
            
            // 更新按鈕樣式
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.style.background = '#E0E0E0';
                btn.style.color = '#666';
            });
            
            event.target.style.background = '#9C27B0';
            event.target.style.color = 'white';
            
            // 顯示對應區域
            document.querySelectorAll('.learning-section').forEach(section => {
                section.style.display = 'none';
            });
            
            if (mode === 'vocabulary') {
                document.getElementById('vocabularySection').style.display = 'block';
            } else if (mode === 'sentences') {
                document.getElementById('sentencesSection').style.display = 'block';
            } else if (mode === 'quiz') {
                document.getElementById('quizSection').style.display = 'block';
            }
        }

        // 隨機測驗功能
        let quizStats = {
            currentQuestion: 0,
            correctAnswers: 0,
            totalAttempts: 0,
            currentQuestionData: null
        };

        // 100題題庫
        const quizDatabase = [
            // 詞彙題 (50題)
            { type: 'vocabulary', english: 'Traffic Light', chinese: '交通號誌', options: ['交通號誌', '人行道', '十字路口', '接送區'], correct: 0 },
            { type: 'vocabulary', english: 'Crosswalk', chinese: '人行穿越道', options: ['人行穿越道', '安全帽', '校車', '導護志工'], correct: 0 },
            { type: 'vocabulary', english: 'Safety Helmet', chinese: '安全帽', options: ['交通號誌', '安全帽', '人行道', '十字路口'], correct: 1 },
            { type: 'vocabulary', english: 'School Bus', chinese: '校車', options: ['接送區', '人行道', '校車', '交通號誌'], correct: 2 },
            { type: 'vocabulary', english: 'Pickup Zone', chinese: '接送區', options: ['校車', '接送區', '安全帽', '導護志工'], correct: 1 },
            { type: 'vocabulary', english: 'Intersection', chinese: '十字路口', options: ['人行道', '交通號誌', '十字路口', '校車'], correct: 2 },
            { type: 'vocabulary', english: 'Sidewalk', chinese: '人行道', options: ['人行道', '十字路口', '接送區', '安全帽'], correct: 0 },
            { type: 'vocabulary', english: 'Traffic Safety Volunteer', chinese: '導護志工', options: ['校車', '交通號誌', '人行道', '導護志工'], correct: 3 },
            { type: 'vocabulary', english: 'Walking to School', chinese: '步行通學', options: ['步行通學', '接送區', '十字路口', '人行道'], correct: 0 },
            { type: 'vocabulary', english: 'Lujiang Elementary School', chinese: '鷺江國小', options: ['導護志工', '鷺江國小', '交通號誌', '校車'], correct: 1 },
            { type: 'vocabulary', english: 'Stop Sign', chinese: '停止標誌', options: ['停止標誌', '速限標誌', '禁止標誌', '警告標誌'], correct: 0 },
            { type: 'vocabulary', english: 'Speed Limit', chinese: '速限', options: ['交通號誌', '速限', '人行道', '十字路口'], correct: 1 },
            { type: 'vocabulary', english: 'Bicycle Lane', chinese: '自行車道', options: ['人行道', '機車道', '自行車道', '汽車道'], correct: 2 },
            { type: 'vocabulary', english: 'Pedestrian', chinese: '行人', options: ['駕駛', '行人', '乘客', '志工'], correct: 1 },
            { type: 'vocabulary', english: 'Driver', chinese: '駕駛', options: ['駕駛', '行人', '學生', '老師'], correct: 0 },
            { type: 'vocabulary', english: 'Passenger', chinese: '乘客', options: ['駕駛', '導護', '乘客', '行人'], correct: 2 },
            { type: 'vocabulary', english: 'Green Light', chinese: '綠燈', options: ['紅燈', '綠燈', '黃燈', '閃燈'], correct: 1 },
            { type: 'vocabulary', english: 'Red Light', chinese: '紅燈', options: ['紅燈', '綠燈', '黃燈', '白燈'], correct: 0 },
            { type: 'vocabulary', english: 'Yellow Light', chinese: '黃燈', options: ['綠燈', '紅燈', '黃燈', '藍燈'], correct: 2 },
            { type: 'vocabulary', english: 'Road', chinese: '道路', options: ['道路', '橋樑', '隧道', '廣場'], correct: 0 },
            { type: 'vocabulary', english: 'Bridge', chinese: '橋樑', options: ['道路', '橋樑', '隧道', '天橋'], correct: 1 },
            { type: 'vocabulary', english: 'Tunnel', chinese: '隧道', options: ['橋樑', '道路', '隧道', '地下道'], correct: 2 },
            { type: 'vocabulary', english: 'Overpass', chinese: '天橋', options: ['地下道', '人行道', '天橋', '橋樑'], correct: 2 },
            { type: 'vocabulary', english: 'Underpass', chinese: '地下道', options: ['地下道', '天橋', '隧道', '人行道'], correct: 0 },
            { type: 'vocabulary', english: 'Traffic Cone', chinese: '交通錐', options: ['路障', '交通錐', '警示牌', '反光鏡'], correct: 1 },
            { type: 'vocabulary', english: 'Warning Sign', chinese: '警告標誌', options: ['指示標誌', '警告標誌', '禁止標誌', '說明標誌'], correct: 1 },
            { type: 'vocabulary', english: 'School Zone', chinese: '學校區域', options: ['學校區域', '住宅區域', '商業區域', '工業區域'], correct: 0 },
            { type: 'vocabulary', english: 'Parking Area', chinese: '停車區', options: ['等候區', '停車區', '休息區', '遊戲區'], correct: 1 },
            { type: 'vocabulary', english: 'Bus Stop', chinese: '公車站', options: ['火車站', '公車站', '捷運站', '計程車站'], correct: 1 },
            { type: 'vocabulary', english: 'Motorcycle', chinese: '機車', options: ['汽車', '機車', '自行車', '公車'], correct: 1 },
            { type: 'vocabulary', english: 'Bicycle', chinese: '自行車', options: ['機車', '汽車', '自行車', '滑板車'], correct: 2 },
            { type: 'vocabulary', english: 'Car', chinese: '汽車', options: ['汽車', '卡車', '公車', '機車'], correct: 0 },
            { type: 'vocabulary', english: 'Truck', chinese: '卡車', options: ['公車', '卡車', '汽車', '機車'], correct: 1 },
            { type: 'vocabulary', english: 'Emergency Vehicle', chinese: '緊急車輛', options: ['一般車輛', '緊急車輛', '公務車輛', '商用車輛'], correct: 1 },
            { type: 'vocabulary', english: 'Ambulance', chinese: '救護車', options: ['消防車', '救護車', '警車', '垃圾車'], correct: 1 },
            { type: 'vocabulary', english: 'Fire Truck', chinese: '消防車', options: ['消防車', '救護車', '警車', '工程車'], correct: 0 },
            { type: 'vocabulary', english: 'Police Car', chinese: '警車', options: ['救護車', '消防車', '警車', '巡邏車'], correct: 2 },
            { type: 'vocabulary', english: 'Seat Belt', chinese: '安全帶', options: ['安全帶', '安全帽', '護膝', '護肘'], correct: 0 },
            { type: 'vocabulary', english: 'Mirror', chinese: '後照鏡', options: ['車燈', '後照鏡', '方向燈', '煞車燈'], correct: 1 },
            { type: 'vocabulary', english: 'Horn', chinese: '喇叭', options: ['鈴鐺', '喇叭', '警笛', '鳴笛'], correct: 1 },
            { type: 'vocabulary', english: 'Brake', chinese: '煞車', options: ['油門', '煞車', '離合器', '手煞車'], correct: 1 },
            { type: 'vocabulary', english: 'Turn Signal', chinese: '方向燈', options: ['頭燈', '方向燈', '煞車燈', '霧燈'], correct: 1 },
            { type: 'vocabulary', english: 'Headlight', chinese: '頭燈', options: ['頭燈', '尾燈', '方向燈', '霧燈'], correct: 0 },
            { type: 'vocabulary', english: 'License Plate', chinese: '車牌', options: ['駕照', '車牌', '行照', '保險卡'], correct: 1 },
            { type: 'vocabulary', english: 'Traffic Jam', chinese: '交通堵塞', options: ['交通順暢', '交通堵塞', '交通管制', '交通事故'], correct: 1 },
            { type: 'vocabulary', english: 'Rush Hour', chinese: '尖峰時間', options: ['離峰時間', '尖峰時間', '上班時間', '下班時間'], correct: 1 },
            { type: 'vocabulary', english: 'Pedestrian Crossing', chinese: '行人穿越道', options: ['行人穿越道', '車輛通道', '機車道', '自行車道'], correct: 0 },
            { type: 'vocabulary', english: 'Traffic Police', chinese: '交通警察', options: ['學校老師', '交通警察', '導護志工', '保全人員'], correct: 1 },
            { type: 'vocabulary', english: 'Road Safety', chinese: '道路安全', options: ['道路安全', '交通便利', '道路品質', '交通效率'], correct: 0 },
            { type: 'vocabulary', english: 'Speed Bump', chinese: '減速帶', options: ['分隔島', '減速帶', '護欄', '路障'], correct: 1 },

            // 句子題 (50題)
            { type: 'sentence', english: 'Always use the crosswalk when crossing the street.', chinese: '過馬路時一定要使用人行穿越道。', options: ['過馬路時一定要使用人行穿越道。', '過馬路時要注意來車。', '過馬路時要快速通過。', '過馬路時要舉手示意。'], correct: 0 },
            { type: 'sentence', english: 'Wait for the green light before crossing.', chinese: '等綠燈亮了再過馬路。', options: ['看到黃燈就可以過馬路。', '等綠燈亮了再過馬路。', '紅燈時也可以小心過馬路。', '不用等燈號直接過馬路。'], correct: 1 },
            { type: 'sentence', english: 'Students must wear safety helmets when riding bicycles.', chinese: '學生騎自行車時必須戴安全帽。', options: ['學生可以選擇是否戴安全帽。', '學生騎自行車時必須戴安全帽。', '只有騎機車才需要戴安全帽。', '在學校內騎車不用戴安全帽。'], correct: 1 },
            { type: 'sentence', english: 'The school bus stops at the designated area.', chinese: '校車在指定區域停靠。', options: ['校車可以隨意停靠。', '校車只在學校門口停靠。', '校車在指定區域停靠。', '校車不需要固定停靠點。'], correct: 2 },
            { type: 'sentence', english: 'Be extra careful at intersections.', chinese: '在十字路口要特別小心。', options: ['在十字路口可以放心通過。', '在十字路口要特別小心。', '十字路口比較安全。', '十字路口不需要注意。'], correct: 1 },
            { type: 'sentence', english: 'Walk on the sidewalk, not on the road.', chinese: '走在人行道上，不要走在馬路上。', options: ['可以在馬路上行走。', '人行道和馬路都可以走。', '走在人行道上，不要走在馬路上。', '馬路比人行道更安全。'], correct: 2 },
            { type: 'sentence', english: 'Follow the traffic safety volunteer\'s instructions.', chinese: '遵循導護志工的指示。', options: ['可以忽略導護志工的指示。', '遵循導護志工的指示。', '導護志工的指示僅供參考。', '只有老師的指示才重要。'], correct: 1 },
            { type: 'sentence', english: 'Walking to school is healthy and environmentally friendly.', chinese: '步行上學既健康又環保。', options: ['步行上學既健康又環保。', '開車上學比較方便。', '騎機車上學最快速。', '搭公車上學最舒適。'], correct: 0 },
            { type: 'sentence', english: 'Cars use the pickup zone on Minzu Road.', chinese: '汽車使用民族路的接送區。', options: ['汽車可以在任何地方接送。', '汽車使用民族路的接送區。', '汽車不需要指定接送區。', '汽車只能在校門口接送。'], correct: 1 },
            { type: 'sentence', english: 'Lujiang Elementary School has 88 traffic safety volunteers.', chinese: '鷺江國小有88位導護志工。', options: ['鷺江國小有100位導護志工。', '鷺江國小有88位導護志工。', '鷺江國小有50位導護志工。', '鷺江國小沒有導護志工。'], correct: 1 },
            { type: 'sentence', english: 'Look both ways before crossing the street.', chinese: '過馬路前要左右看。', options: ['過馬路前要左右看。', '過馬路前只要看前方。', '過馬路不需要看任何方向。', '過馬路只要看左邊。'], correct: 0 },
            { type: 'sentence', english: 'Stop at the red light.', chinese: '紅燈時要停下來。', options: ['紅燈時可以慢慢通過。', '紅燈時要停下來。', '紅燈時要加速通過。', '紅燈時可以繼續走。'], correct: 1 },
            { type: 'sentence', english: 'Motorcycles should use the designated pickup area.', chinese: '機車應該使用指定的接送區域。', options: ['機車可以隨意停放。', '機車應該使用指定的接送區域。', '機車不需要特定區域。', '機車可以停在人行道上。'], correct: 1 },
            { type: 'sentence', english: 'Do not run across the street.', chinese: '不要跑著過馬路。', options: ['過馬路時要快跑。', '不要跑著過馬路。', '跑步過馬路比較安全。', '過馬路一定要跑步。'], correct: 1 },
            { type: 'sentence', english: 'Wear bright colored clothes for better visibility.', chinese: '穿著鮮豔衣服以增加能見度。', options: ['穿深色衣服比較好。', '衣服顏色不重要。', '穿著鮮豔衣服以增加能見度。', '只有晚上才需要穿鮮豔衣服。'], correct: 2 },
            { type: 'sentence', english: 'Keep to the right when walking.', chinese: '行走時要靠右邊。', options: ['行走時要靠左邊。', '行走時要靠右邊。', '行走時走中間最安全。', '行走方向不重要。'], correct: 1 },
            { type: 'sentence', english: 'Do not use mobile phones while crossing the road.', chinese: '過馬路時不要使用手機。', options: ['過馬路時可以使用手機。', '過馬路時不要使用手機。', '過馬路時可以邊走邊講電話。', '使用手機不影響過馬路。'], correct: 1 },
            { type: 'sentence', english: 'School zones have reduced speed limits.', chinese: '學校區域有降低的速限。', options: ['學校區域沒有速限。', '學校區域有降低的速限。', '學校區域速限比較高。', '學校區域速限和一般道路相同。'], correct: 1 },
            { type: 'sentence', english: 'Emergency vehicles have the right of way.', chinese: '緊急車輛有優先通行權。', options: ['緊急車輛沒有特殊權利。', '緊急車輛有優先通行權。', '一般車輛優先於緊急車輛。', '所有車輛權利相同。'], correct: 1 },
            { type: 'sentence', english: 'Check your bicycle before riding.', chinese: '騎車前要檢查自行車。', options: ['騎車前要檢查自行車。', '自行車不需要檢查。', '只有新車才需要檢查。', '檢查自行車很麻煩。'], correct: 0 },
            { type: 'sentence', english: 'Parents should accompany young children when crossing roads.', chinese: '家長應該陪伴小朋友過馬路。', options: ['小朋友可以自己過馬路。', '家長應該陪伴小朋友過馬路。', '小朋友過馬路不需要大人。', '只有很小的孩子才需要陪伴。'], correct: 1 },
            { type: 'sentence', english: 'Use hand signals when turning on a bicycle.', chinese: '騎自行車轉彎時要打手勢。', options: ['騎自行車不需要打手勢。', '騎自行車轉彎時要打手勢。', '只有機車才需要打手勢。', '手勢不重要。'], correct: 1 },
            { type: 'sentence', english: 'Do not park in front of the school gate.', chinese: '不要在學校門口停車。', options: ['可以在學校門口停車。', '不要在學校門口停車。', '學校門口是最佳停車位置。', '停車位置不重要。'], correct: 1 },
            { type: 'sentence', english: 'Traffic lights help control the flow of vehicles.', chinese: '交通號誌幫助控制車流。', options: ['交通號誌沒有作用。', '交通號誌幫助控制車流。', '交通號誌只是裝飾。', '車流不需要控制。'], correct: 1 },
            { type: 'sentence', english: 'Pedestrians should use footbridges when available.', chinese: '有天橋時行人應該使用天橋。', options: ['天橋太麻煩不用走。', '有天橋時行人應該使用天橋。', '天橋只是選擇之一。', '直接過馬路比較快。'], correct: 1 },
            { type: 'sentence', english: 'School buses have flashing lights for safety.', chinese: '校車有閃爍燈光以確保安全。', options: ['校車不需要特殊燈光。', '校車有閃爍燈光以確保安全。', '校車燈光只是裝飾。', '所有車輛都有相同燈光。'], correct: 1 },
            { type: 'sentence', english: 'Rainy weather requires extra caution on roads.', chinese: '雨天在道路上需要格外小心。', options: ['雨天和平常一樣。', '雨天在道路上需要格外小心。', '雨天開車更容易。', '天氣不影響交通安全。'], correct: 1 },
            { type: 'sentence', english: 'Speed bumps slow down vehicles in school areas.', chinese: '減速帶讓學校區域的車輛減速。', options: ['減速帶沒有效果。', '減速帶讓學校區域的車輛減速。', '減速帶只會損壞車輛。', '學校不需要減速帶。'], correct: 1 },
            { type: 'sentence', english: 'Always fasten your seatbelt in a car.', chinese: '在車內一定要繫安全帶。', options: ['安全帶不重要。', '在車內一定要繫安全帶。', '短程不需要繫安全帶。', '只有司機需要繫安全帶。'], correct: 1 },
            { type: 'sentence', english: 'Traffic cones mark temporary road changes.', chinese: '交通錐標示臨時道路變更。', options: ['交通錐只是裝飾品。', '交通錐標示臨時道路變更。', '交通錐可以隨意移動。', '交通錐沒有特殊意義。'], correct: 1 },
            { type: 'sentence', english: 'Honking should be used sparingly and appropriately.', chinese: '按喇叭應該適度且適當使用。', options: ['可以隨時按喇叭。', '按喇叭應該適度且適當使用。', '按喇叭越多越安全。', '喇叭聲音越大越好。'], correct: 1 },
            { type: 'sentence', english: 'Parking spaces are designated for specific vehicles.', chinese: '停車位是為特定車輛指定的。', options: ['任何車都可以停任何位置。', '停車位是為特定車輛指定的。', '停車位沒有限制。', '大車小車都一樣。'], correct: 1 },
            { type: 'sentence', english: 'Road signs provide important safety information.', chinese: '道路標誌提供重要的安全資訊。', options: ['道路標誌可以忽略。', '道路標誌提供重要的安全資訊。', '道路標誌只是建議。', '道路標誌沒有法律效力。'], correct: 1 },
            { type: 'sentence', english: 'Construction zones require reduced speed and extra attention.', chinese: '施工區域需要減速並格外注意。', options: ['施工區域可以正常通過。', '施工區域需要減速並格外注意。', '施工區域沒有特殊規定。', '施工區域可以加速通過。'], correct: 1 },
            { type: 'sentence', english: 'Blind spots around large vehicles are dangerous.', chinese: '大型車輛周圍的視線死角很危險。', options: ['大型車輛沒有視線死角。', '大型車輛周圍的視線死角很危險。', '視線死角不重要。', '小車也有相同問題。'], correct: 1 },
            { type: 'sentence', english: 'Reflective clothing improves visibility at night.', chinese: '反光衣物在夜間提高能見度。', options: ['夜間穿什麼都一樣。', '反光衣物在夜間提高能見度。', '反光衣物沒有效果。', '只有工作人員需要反光衣物。'], correct: 1 },
            { type: 'sentence', english: 'Maintenance of traffic signals ensures road safety.', chinese: '交通號誌的維護確保道路安全。', options: ['交通號誌不需要維護。', '交通號誌的維護確保道路安全。', '壞掉的號誌也能使用。', '維護交通號誌很浪費。'], correct: 1 },
            { type: 'sentence', english: 'Elderly pedestrians may need more time to cross.', chinese: '年長行人可能需要更多時間過馬路。', options: ['所有人過馬路速度都一樣。', '年長行人可能需要更多時間過馬路。', '年長者不應該自己過馬路。', '過馬路時間是固定的。'], correct: 1 },
            { type: 'sentence', english: 'Weather conditions affect driving and walking safety.', chinese: '天氣狀況影響駕駛和步行安全。', options: ['天氣不影響交通安全。', '天氣狀況影響駕駛和步行安全。', '只有極端天氣才有影響。', '室內交通不受天氣影響。'], correct: 1 },
            { type: 'sentence', english: 'Regular safety education helps prevent accidents.', chinese: '定期安全教育有助於預防事故。', options: ['安全教育沒有用處。', '定期安全教育有助於預防事故。', '一次教育就足夠了。', '事故無法預防。'], correct: 1 },
            { type: 'sentence', english: 'Proper lighting on vehicles is essential for night driving.', chinese: '車輛適當的照明對夜間駕駛很重要。', options: ['夜間駕駛不需要燈光。', '車輛適當的照明對夜間駕駛很重要。', '車燈只是裝飾。', '白天和夜間駕駛沒有差別。'], correct: 1 },
            { type: 'sentence', english: 'Traffic education should start at an early age.', chinese: '交通教育應該從小開始。', options: ['交通教育不重要。', '交通教育應該從小開始。', '只有大人需要交通教育。', '交通教育太複雜。'], correct: 1 },
            { type: 'sentence', english: 'Emergency exits in vehicles must be clearly marked.', chinese: '車輛的緊急出口必須清楚標示。', options: ['緊急出口不需要標示。', '車輛的緊急出口必須清楚標示。', '緊急出口標示可有可無。', '只有大型車輛需要緊急出口。'], correct: 1 },
            { type: 'sentence', english: 'Distracted driving is a major cause of accidents.', chinese: '分心駕駛是事故的主要原因。', options: ['分心駕駛沒有危險。', '分心駕駛是事故的主要原因。', '駕駛時可以做其他事情。', '專心駕駛不重要。'], correct: 1 },
            { type: 'sentence', english: 'Crosswalk signals give pedestrians safe crossing time.', chinese: '行人穿越道號誌給行人安全的過路時間。', options: ['行人不需要等待號誌。', '行人穿越道號誌給行人安全的過路時間。', '號誌時間太短沒用。', '行人可以忽略號誌。'], correct: 1 },
            { type: 'sentence', english: 'Vehicle maintenance prevents mechanical failures on roads.', chinese: '車輛保養預防道路上的機械故障。', options: ['車輛不需要保養。', '車輛保養預防道路上的機械故障。', '機械故障不危險。', '新車不會有機械問題。'], correct: 1 },
            { type: 'sentence', english: 'Roundabouts require yielding to traffic already in the circle.', chinese: '圓環需要讓行給已在環內的車輛。', options: ['圓環內所有車輛平等。', '圓環需要讓行給已在環內的車輛。', '進入圓環有優先權。', '圓環沒有特殊規則。'], correct: 1 },
            { type: 'sentence', english: 'School crossing guards help ensure student safety.', chinese: '學校導護人員幫助確保學生安全。', options: ['導護人員不重要。', '學校導護人員幫助確保學生安全。', '學生可以自己注意安全。', '導護人員只是形式。'], correct: 1 },
            { type: 'sentence', english: 'Defensive driving anticipates potential hazards.', chinese: '防禦性駕駛預期潛在危險。', options: ['駕駛不需要預期危險。', '防禦性駕駛預期潛在危險。', '危險無法預期。', '攻擊性駕駛比較好。'], correct: 1 },
            { type: 'sentence', english: 'Public transportation reduces traffic congestion.', chinese: '大眾運輸減少交通擁塞。', options: ['大眾運輸增加交通問題。', '大眾運輸減少交通擁塞。', '私人交通工具比較好。', '交通擁塞無法解決。'], correct: 1 }
        ];

        let currentQuestionAudio = null;

        function generateRandomQuiz() {
            // 隨機選擇一題
            const randomIndex = Math.floor(Math.random() * quizDatabase.length);
            const question = quizDatabase[randomIndex];
            
            quizStats.currentQuestionData = question;
            quizStats.currentQuestion++;
            
            // 更新題目顯示
            document.getElementById('questionText').textContent = `${question.type === 'vocabulary' ? '📝' : '💬'} "${question.english}"`;
            document.getElementById('questionChinese').textContent = `請選擇正確的中文翻譯：`;
            
            // 生成選項
            const optionsHtml = question.options.map((option, index) => `
                <button class="quiz-option-btn" onclick="checkRandomQuizAnswer(${index})" 
                        style="background: #F5F5F5; border: 2px solid #E0E0E0; border-radius: 10px; padding: 15px 20px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; text-align: left; font-weight: 500;">
                    ${String.fromCharCode(65 + index)}. ${option}
                </button>
            `).join('');
            
            document.getElementById('quizOptions').innerHTML = optionsHtml;
            document.getElementById('quizResult').style.display = 'none';
            document.getElementById('audioBtn').style.display = 'inline-block';
            
            // 更新統計顯示
            updateQuizStats();
            
            // 儲存當前題目的音頻文本
            currentQuestionAudio = question.english;
        }

        function checkRandomQuizAnswer(selectedIndex) {
            const question = quizStats.currentQuestionData;
            const isCorrect = selectedIndex === question.correct;
            
            quizStats.totalAttempts++;
            if (isCorrect) {
                quizStats.correctAnswers++;
            }
            
            // 禁用所有選項
            const options = document.querySelectorAll('.quiz-option-btn');
            options.forEach((option, index) => {
                option.style.pointerEvents = 'none';
                option.style.opacity = '0.7';
                
                if (index === selectedIndex) {
                    if (isCorrect) {
                        option.style.background = '#E8F5E8';
                        option.style.borderColor = '#4CAF50';
                        option.style.color = '#2E7D32';
                    } else {
                        option.style.background = '#FFEBEE';
                        option.style.borderColor = '#F44336';
                        option.style.color = '#C62828';
                    }
                }
                
                // 顯示正確答案
                if (index === question.correct && !isCorrect) {
                    option.style.background = '#E8F5E8';
                    option.style.borderColor = '#4CAF50';
                    option.style.color = '#2E7D32';
                }
            });
            
            // 顯示結果
            const resultDiv = document.getElementById('quizResult');
            if (isCorrect) {
                resultDiv.innerHTML = `
                    <div style="background: #E8F5E8; color: #2E7D32; border: 2px solid #4CAF50; padding: 15px; border-radius: 10px;">
                        🎉 答對了！<br>
                        <small>"${question.english}" 的中文是「${question.chinese}」</small>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div style="background: #FFEBEE; color: #C62828; border: 2px solid #F44336; padding: 15px; border-radius: 10px;">
                        ❌ 答錯了！<br>
                        <small>正確答案是：${question.options[question.correct]}<br>
                        "${question.english}" 的中文是「${question.chinese}」</small>
                    </div>
                `;
            }
            
            resultDiv.style.display = 'block';
            updateQuizStats();
        }

        function updateQuizStats() {
            document.getElementById('currentQuestionNum').textContent = quizStats.currentQuestion;
            document.getElementById('correctCount').textContent = quizStats.correctAnswers;
            document.getElementById('totalAttempts').textContent = quizStats.totalAttempts;
            
            const accuracy = quizStats.totalAttempts > 0 ? 
                Math.round((quizStats.correctAnswers / quizStats.totalAttempts) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        function resetQuizStats() {
            quizStats = {
                currentQuestion: 0,
                correctAnswers: 0,
                totalAttempts: 0,
                currentQuestionData: null
            };
            
            document.getElementById('questionText').textContent = '點擊「下一題」開始測驗';
            document.getElementById('questionChinese').textContent = '準備好了嗎？';
            document.getElementById('quizOptions').innerHTML = '';
            document.getElementById('quizResult').style.display = 'none';
            document.getElementById('audioBtn').style.display = 'none';
            
            updateQuizStats();
            currentQuestionAudio = null;
        }

        function playQuestionAudio() {
            if (!currentQuestionAudio) return;
            
            const audioBtn = document.getElementById('audioBtn');
            audioBtn.style.transform = 'scale(1.05)';
            audioBtn.style.background = '#7B1FA2';
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance();
                utterance.text = currentQuestionAudio;
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                utterance.volume = 0.8;
                
                utterance.onend = function() {
                    setTimeout(() => {
                        audioBtn.style.transform = 'scale(1)';
                        audioBtn.style.background = '#9C27B0';
                    }, 300);
                };
                
                speechSynthesis.speak(utterance);
            } else {
                setTimeout(() => {
                    audioBtn.style.transform = 'scale(1)';
                    audioBtn.style.background = '#9C27B0';
                }, 1500);
            }
        }

        function playAudio(wordId) {
            const card = event.target.closest('.vocab-card');
            card.style.transform = 'scale(1.05)';
            card.style.borderColor = '#9C27B0';
            
            // 使用 Web Speech API 進行真實發音
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance();
                const englishText = card.querySelector('strong').textContent.replace(/[🏫👮‍♂️🚗🚶‍♂️]/g, '').trim();
                
                utterance.text = englishText;
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                utterance.volume = 0.8;
                
                utterance.onend = function() {
                    setTimeout(() => {
                        card.style.transform = 'scale(1)';
                        card.style.borderColor = 'transparent';
                    }, 300);
                };
                
                speechSynthesis.speak(utterance);
            } else {
                setTimeout(() => {
                    card.style.transform = 'scale(1)';
                    card.style.borderColor = 'transparent';
                }, 1500);
            }
        }

        function playSentence(sentenceId) {
            const card = event.target.closest('.sentence-card');
            card.style.transform = 'scale(1.02)';
            card.style.borderColor = '#9C27B0';
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance();
                const englishText = card.querySelector('div').textContent.replace(/[🏫🚗]/g, '').replace(/"/g, '').trim();
                
                utterance.text = englishText;
                utterance.lang = 'en-US';
                utterance.rate = 0.7;
                utterance.pitch = 1;
                utterance.volume = 0.8;
                
                utterance.onend = function() {
                    setTimeout(() => {
                        card.style.transform = 'scale(1)';
                        card.style.borderColor = 'transparent';
                    }, 300);
                };
                
                speechSynthesis.speak(utterance);
            } else {
                setTimeout(() => {
                    card.style.transform = 'scale(1)';
                    card.style.borderColor = 'transparent';
                }, 2000);
            }
        }

        // 設定預設配置
        const defaultConfig = {
            main_title: "🏫 鷺江國小交通安全網",
            school_name: "新北市蘆洲區鷺江國小",
            school_address: "📍 新北市蘆洲區民族路七號",
            traffic_situation_title: "🚦 校門口交通狀況 - L型道路配置",
            safety_guide_title: "🛡️ 交通安全指引"
        };

        // Element SDK 配置
        async function onConfigChange(config) {
            const mainTitle = config.main_title || defaultConfig.main_title;
            const schoolName = config.school_name || defaultConfig.school_name;
            const schoolAddress = config.school_address || defaultConfig.school_address;
            const trafficSituationTitle = config.traffic_situation_title || defaultConfig.traffic_situation_title;
            const safetyGuideTitle = config.safety_guide_title || defaultConfig.safety_guide_title;

            document.getElementById('mainTitle').textContent = mainTitle;
            document.getElementById('schoolName').textContent = schoolName;
            document.getElementById('schoolAddress').textContent = schoolAddress;
            document.getElementById('trafficSituationTitle').textContent = trafficSituationTitle;
            document.getElementById('safetyGuideTitle').textContent = safetyGuideTitle;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["main_title", config.main_title || defaultConfig.main_title],
                ["school_name", config.school_name || defaultConfig.school_name],
                ["school_address", config.school_address || defaultConfig.school_address],
                ["traffic_situation_title", config.traffic_situation_title || defaultConfig.traffic_situation_title],
                ["safety_guide_title", config.safety_guide_title || defaultConfig.safety_guide_title]
            ]);
        }

        // 數位工具功能
        function openDigitalTool(toolType) {
            const toolDisplay = document.getElementById('digitalToolDisplay');
            const toolTitle = document.getElementById('toolTitle');
            const toolContent = document.getElementById('toolContent');
            
            toolDisplay.style.display = 'block';
            
            switch(toolType) {
                case 'map':
                    toolTitle.innerHTML = '🗺️ 交通安全地圖';
                    toolContent.innerHTML = `
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h3 style="color: #2196F3; margin-bottom: 15px;">鷺江國小周邊安全地圖</h3>
                        </div>
                        <div style="background: #F5F5F5; border-radius: 15px; padding: 20px; margin: 20px 0;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div style="background: #E8F5E8; padding: 15px; border-radius: 10px; border: 2px solid #4CAF50;">
                                    <div style="font-weight: bold; color: #2E7D32; margin-bottom: 8px;">🟢 安全路線</div>
                                    <div style="font-size: 14px; color: #1B5E20;">
                                        • 民族路人行道<br>
                                        • 學校正門入口<br>
                                        • 有導護志工路段
                                    </div>
                                </div>
                                <div style="background: #FFF3E0; padding: 15px; border-radius: 10px; border: 2px solid #FF9800;">
                                    <div style="font-weight: bold; color: #E65100; margin-bottom: 8px;">🟡 注意路段</div>
                                    <div style="font-size: 14px; color: #BF360C;">
                                        • 民族路與民權路交叉口<br>
                                        • 公車站牌附近<br>
                                        • 上下學尖峰時段
                                    </div>
                                </div>
                                <div style="background: #FFEBEE; padding: 15px; border-radius: 10px; border: 2px solid #F44336;">
                                    <div style="font-weight: bold; color: #C62828; margin-bottom: 8px;">🔴 危險區域</div>
                                    <div style="font-size: 14px; color: #B71C1C;">
                                        • 無號誌路口<br>
                                        • 視線死角<br>
                                        • 車輛轉彎處
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="background: #E3F2FD; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="color: #1976D2; font-weight: bold; margin-bottom: 8px;">💡 使用建議</div>
                            <div style="color: #0D47A1; font-size: 14px;">
                                建議家長與學生一起規劃最安全的上下學路線，避開危險區域，多利用有導護志工的安全路段。
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'timer':
                    toolTitle.innerHTML = '⏰ 上學時間計算器';
                    toolContent.innerHTML = `
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h3 style="color: #4CAF50; margin-bottom: 15px;">計算最佳出發時間</h3>
                        </div>
                        <div style="background: #F5F5F5; border-radius: 15px; padding: 25px; margin: 20px 0;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                <div>
                                    <label style="display: block; font-weight: bold; color: #2E7D32; margin-bottom: 8px;">交通方式：</label>
                                    <select id="transportMode" style="width: 100%; padding: 10px; border: 2px solid #E0E0E0; border-radius: 8px; font-size: 14px;">
                                        <option value="walk">🚶‍♂️ 步行</option>
                                        <option value="bike">🚲 自行車</option>
                                        <option value="scooter">🏍️ 機車接送</option>
                                        <option value="car">🚗 汽車接送</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; font-weight: bold; color: #2E7D32; margin-bottom: 8px;">距離學校：</label>
                                    <select id="distance" style="width: 100%; padding: 10px; border: 2px solid #E0E0E0; border-radius: 8px; font-size: 14px;">
                                        <option value="near">500公尺內</option>
                                        <option value="medium">500-1000公尺</option>
                                        <option value="far">1000公尺以上</option>
                                    </select>
                                </div>
                            </div>
                            <button onclick="calculateTime()" style="background: #4CAF50; color: white; border: none; border-radius: 25px; padding: 12px 30px; font-size: 16px; font-weight: bold; cursor: pointer; width: 100%; margin-bottom: 20px;">🧮 計算建議出發時間</button>
                            <div id="timeResult" style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #4CAF50; display: none;">
                                <!-- 結果將顯示在這裡 -->
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'weather':
                    toolTitle.innerHTML = '🌤️ 天氣交通提醒';
                    toolContent.innerHTML = `
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h3 style="color: #FF9800; margin-bottom: 15px;">今日天氣與交通建議</h3>
                        </div>
                        <div style="background: #F5F5F5; border-radius: 15px; padding: 25px; margin: 20px 0;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #2196F3;">
                                    <div style="font-size: 36px; margin-bottom: 10px;">☀️</div>
                                    <div style="font-weight: bold; color: #1976D2; margin-bottom: 5px;">晴朗</div>
                                    <div style="color: #666; font-size: 14px;">溫度：22°C<br>濕度：65%</div>
                                </div>
                                <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border: 2px solid #4CAF50;">
                                    <div style="font-size: 36px; margin-bottom: 10px;">🟢</div>
                                    <div style="font-weight: bold; color: #2E7D32; margin-bottom: 5px;">交通順暢</div>
                                    <div style="color: #666; font-size: 14px;">能見度良好<br>路面乾燥</div>
                                </div>
                            </div>
                            <div style="background: #E8F5E8; padding: 20px; border-radius: 10px; border: 2px solid #4CAF50;">
                                <div style="font-weight: bold; color: #2E7D32; margin-bottom: 15px;">📋 今日交通安全建議：</div>
                                <div style="color: #1B5E20; font-size: 14px; line-height: 1.6;">
                                    ✅ 天氣良好，適合步行或騎自行車上學<br>
                                    ✅ 路面乾燥，正常行駛即可<br>
                                    ✅ 能見度佳，但仍需注意車輛動向<br>
                                    ✅ 建議穿著淺色衣物增加能見度
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'report':
                    toolTitle.innerHTML = '📝 安全狀況回報';
                    toolContent.innerHTML = `
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h3 style="color: #9C27B0; margin-bottom: 15px;">回報交通安全狀況</h3>
                        </div>
                        <div style="background: #F5F5F5; border-radius: 15px; padding: 25px; margin: 20px 0;">
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; font-weight: bold; color: #6A1B9A; margin-bottom: 8px;">回報類型：</label>
                                <select id="reportType" style="width: 100%; padding: 10px; border: 2px solid #E0E0E0; border-radius: 8px; font-size: 14px;">
                                    <option value="danger">⚠️ 危險狀況</option>
                                    <option value="facility">🚧 設施問題</option>
                                    <option value="suggestion">💡 改善建議</option>
                                    <option value="praise">👍 表揚好人好事</option>
                                </select>
                            </div>
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; font-weight: bold; color: #6A1B9A; margin-bottom: 8px;">發生地點：</label>
                                <select id="location" style="width: 100%; padding: 10px; border: 2px solid #E0E0E0; border-radius: 8px; font-size: 14px;">
                                    <option value="minzu">民族路 (學校正門)</option>
                                    <option value="minquan">民權路 (學校側門)</option>
                                    <option value="intersection">民族路民權路交叉口</option>
                                    <option value="other">其他地點</option>
                                </select>
                            </div>
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; font-weight: bold; color: #6A1B9A; margin-bottom: 8px;">詳細描述：</label>
                                <textarea id="description" placeholder="請詳細描述狀況..." style="width: 100%; height: 100px; padding: 10px; border: 2px solid #E0E0E0; border-radius: 8px; font-size: 14px; resize: vertical;"></textarea>
                            </div>
                            <button onclick="submitReport()" style="background: #9C27B0; color: white; border: none; border-radius: 25px; padding: 12px 30px; font-size: 16px; font-weight: bold; cursor: pointer; width: 100%; margin-bottom: 15px;">📤 提交回報</button>
                            <div style="background: #F3E5F5; padding: 15px; border-radius: 10px; text-align: center; font-size: 12px; color: #6A1B9A;">
                                您的回報將協助學校改善交通安全環境，感謝您的參與！
                            </div>
                        </div>
                    `;
                    break;
            }
            
            // 滾動到工具區域
            toolDisplay.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function closeDigitalTool() {
            document.getElementById('digitalToolDisplay').style.display = 'none';
        }

        function calculateTime() {
            const transport = document.getElementById('transportMode').value;
            const distance = document.getElementById('distance').value;
            const resultDiv = document.getElementById('timeResult');
            
            let travelTime = 0;
            let transportName = '';
            let tips = '';
            
            // 計算行程時間
            switch(transport) {
                case 'walk':
                    transportName = '步行';
                    travelTime = distance === 'near' ? 8 : distance === 'medium' ? 15 : 25;
                    tips = '建議穿著舒適的鞋子，注意路面狀況';
                    break;
                case 'bike':
                    transportName = '自行車';
                    travelTime = distance === 'near' ? 4 : distance === 'medium' ? 8 : 12;
                    tips = '記得配戴安全帽，檢查車輛狀況';
                    break;
                case 'scooter':
                    transportName = '機車接送';
                    travelTime = distance === 'near' ? 3 : distance === 'medium' ? 5 : 8;
                    tips = '使用民權路接送區，配合導護志工指揮';
                    break;
                case 'car':
                    transportName = '汽車接送';
                    travelTime = distance === 'near' ? 5 : distance === 'medium' ? 8 : 12;
                    tips = '使用民族路接送區，避免並排停車';
                    break;
            }
            
            // 加上準備時間和緩衝時間
            const prepTime = 10; // 準備時間
            const bufferTime = 5; // 緩衝時間
            const totalTime = travelTime + prepTime + bufferTime;
            
            // 計算建議出發時間 (上學時間 08:00)
            const arrivalTime = new Date();
            arrivalTime.setHours(8, 0, 0, 0);
            const departureTime = new Date(arrivalTime.getTime() - totalTime * 60000);
            
            resultDiv.innerHTML = `
                <div style="text-align: center; margin-bottom: 15px;">
                    <div style="font-size: 24px; font-weight: bold; color: #4CAF50;">${departureTime.getHours().toString().padStart(2, '0')}:${departureTime.getMinutes().toString().padStart(2, '0')}</div>
                    <div style="color: #2E7D32; font-weight: bold;">建議出發時間</div>
                </div>
                <div style="background: #E8F5E8; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <div style="font-weight: bold; color: #2E7D32; margin-bottom: 8px;">時間分配：</div>
                    <div style="font-size: 14px; color: #1B5E20;">
                        🏠 準備時間：${prepTime}分鐘<br>
                        🚶‍♂️ ${transportName}時間：${travelTime}分鐘<br>
                        ⏰ 緩衝時間：${bufferTime}分鐘<br>
                        📚 總計：${totalTime}分鐘
                    </div>
                </div>
                <div style="background: #FFF3E0; padding: 15px; border-radius: 8px;">
                    <div style="font-weight: bold; color: #E65100; margin-bottom: 8px;">💡 貼心提醒：</div>
                    <div style="font-size: 14px; color: #BF360C;">${tips}</div>
                </div>
            `;
            
            resultDiv.style.display = 'block';
        }

        async function submitReport() {
            const reportType = document.getElementById('reportType').value;
            const location = document.getElementById('location').value;
            const description = document.getElementById('description').value;
            
            if (!description.trim()) {
                // 使用自定義提示而非 alert
                const toolContent = document.getElementById('toolContent');
                const existingAlert = toolContent.querySelector('.custom-alert');
                if (existingAlert) existingAlert.remove();
                
                const alertDiv = document.createElement('div');
                alertDiv.className = 'custom-alert';
                alertDiv.innerHTML = `
                    <div style="background: #FFEBEE; border: 2px solid #F44336; border-radius: 10px; padding: 15px; margin: 15px 0; text-align: center;">
                        <div style="color: #C62828; font-weight: bold;">⚠️ 請填寫詳細描述</div>
                    </div>
                `;
                toolContent.appendChild(alertDiv);
                
                setTimeout(() => {
                    if (alertDiv.parentNode) {
                        alertDiv.remove();
                    }
                }, 3000);
                return;
            }
            
            // 顯示提交中狀態
            const submitBtn = event.target;
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '📤 提交中...';
            submitBtn.disabled = true;
            submitBtn.style.opacity = '0.7';
            
            // 模擬提交過程
            setTimeout(() => {
                // 提交成功
                const toolContent = document.getElementById('toolContent');
                const existingAlert = toolContent.querySelector('.custom-alert');
                if (existingAlert) existingAlert.remove();
                
                const successDiv = document.createElement('div');
                successDiv.className = 'custom-alert';
                successDiv.innerHTML = `
                    <div style="background: #E8F5E8; border: 2px solid #4CAF50; border-radius: 10px; padding: 20px; margin: 15px 0; text-align: center;">
                        <div style="color: #2E7D32; font-weight: bold; font-size: 18px; margin-bottom: 10px;">✅ 回報提交成功！</div>
                        <div style="color: #1B5E20; font-size: 14px;">
                            感謝您的回報，我們會盡快處理。<br>
                            如有緊急狀況請直接聯繫學校 (02)2281-9980
                        </div>
                    </div>
                `;
                toolContent.appendChild(successDiv);
                
                // 清空表單
                document.getElementById('description').value = '';
                
                // 恢復按鈕狀態
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                submitBtn.style.opacity = '1';
                
                setTimeout(() => {
                    if (successDiv.parentNode) {
                        successDiv.remove();
                    }
                }, 8000);
            }, 2000);
        }



        // 添加懸停效果
        document.addEventListener('DOMContentLoaded', function() {
            const style = document.createElement('style');
            style.textContent = `
                .vocab-card:hover {
                    transform: translateY(-3px);
                    box-shadow: 0 4px 15px rgba(156, 39, 176, 0.2);
                    border-color: #9C27B0 !important;
                }
                
                .sentence-card:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 15px rgba(156, 39, 176, 0.15);
                    border-color: #9C27B0 !important;
                }
                
                .quiz-option:hover {
                    background: #E3F2FD !important;
                    border-color: #2196F3 !important;
                    transform: translateX(5px);
                }
                
                .nav-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                }
                
                .nav-btn.active:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 4px 15px rgba(25, 118, 210, 0.4);
                }
                

            `;
            document.head.appendChild(style);

            // 初始化
            updateQuickInfo();
            setInterval(updateQuickInfo, 60000);
            

            
            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'998421e2d335843a',t:'MTc2MjA5MTc1Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>